/* Zepto v1.0rc1 - polyfill zepto event detect fx ajax form touch - zeptojs.com/license */

//     Underscore.js 1.3.3
//     (c) 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.
//     Underscore is freely distributable under the MIT license.
//     Portions of Underscore are inspired or borrowed from Prototype,
//     Oliver Steele's Functional, and John Resig's Micro-Templating.
//     For all details and documentation:
//     http://documentcloud.github.com/underscore

//     (c) 2010-2012 Jeremy Ashkenas, DocumentCloud Inc.
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

// ----------------------------------------------------------------------------
// Buzz, a Javascript HTML5 Audio library
// v 1.0.4 beta
// Licensed under the MIT license.
// http://buzz.jaysalvat.com/
// ----------------------------------------------------------------------------
// Copyright (C) 2011 Jay Salvat
// http://jaysalvat.com/
// ----------------------------------------------------------------------------
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files ( the "Software" ), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.
// ----------------------------------------------------------------------------

define("cs",{load:function(id){throw new Error("Dynamic load not allowed: "+id)}}),function(undefined){String.prototype.trim===undefined&&(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Array.prototype.reduce===undefined&&(Array.prototype.reduce=function(fun){if(this===void 0||this===null)throw new TypeError;var t=Object(this),len=t.length>>>0,k=0,accumulator;if(typeof fun!="function")throw new TypeError;if(len==0&&arguments.length==1)throw new TypeError;if(arguments.length>=2)accumulator=arguments[1];else do{if(k in t){accumulator=t[k++];break}if(++k>=len)throw new TypeError}while(!0);while(k<len)k in t&&(accumulator=fun.call(undefined,accumulator,t[k],k,t)),k++;return accumulator})}();var Zepto=function(){function isFunction(value){return toString.call(value)=="[object Function]"}function isObject(value){return value instanceof Object}function isPlainObject(value){var key,ctor;if(toString.call(value)!=="[object Object]")return!1;ctor=isFunction(value.constructor)&&value.constructor.prototype;if(!ctor||!hasOwnProperty.call(ctor,"isPrototypeOf"))return!1;for(key in value);return key===undefined||hasOwnProperty.call(value,key)}function isArray(value){return value instanceof Array}function likeArray(obj){return typeof obj.length=="number"}function compact(array){return array.filter(function(item){return item!==undefined&&item!==null})}function flatten(array){return array.length>0?[].concat.apply([],array):array}function dasherize(str){return str.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function classRE(name){return name in classCache?classCache[name]:classCache[name]=new RegExp("(^|\\s)"+name+"(\\s|$)")}function maybeAddPx(name,value){return typeof value=="number"&&!cssNumber[dasherize(name)]?value+"px":value}function defaultDisplay(nodeName){var element,display;return elementDisplay[nodeName]||(element=document.createElement(nodeName),document.body.appendChild(element),display=getComputedStyle(element,"").getPropertyValue("display"),element.parentNode.removeChild(element),display=="none"&&(display="block"),elementDisplay[nodeName]=display),elementDisplay[nodeName]}function filtered(nodes,selector){return selector===undefined?$(nodes):$(nodes).filter(selector)}function funcArg(context,arg,idx,payload){return isFunction(arg)?arg.call(context,idx,payload):arg}function insert(operator,target,node){var parent=operator%2?target:target.parentNode;parent?parent.insertBefore(node,operator?operator==1?parent.firstChild:operator==2?target:null:target.nextSibling):$(node).remove()}function traverseNode(node,fun){fun(node);for(var key in node.childNodes)traverseNode(node.childNodes[key],fun)}var undefined,key,$,classList,emptyArray=[],slice=emptyArray.slice,document=window.document,elementDisplay={},classCache={},getComputedStyle=document.defaultView.getComputedStyle,cssNumber={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},fragmentRE=/^\s*<(\w+|!)[^>]*>/,elementTypes=[1,3,8,9,11],adjacencyOperators=["after","prepend","before","append"],table=document.createElement("table"),tableRow=document.createElement("tr"),containers={tr:document.createElement("tbody"),tbody:table,thead:table,tfoot:table,td:tableRow,th:tableRow,"*":document.createElement("div")},readyRE=/complete|loaded|interactive/,classSelectorRE=/^\.([\w-]+)$/,idSelectorRE=/^#([\w-]+)$/,tagSelectorRE=/^[\w-]+$/,toString={}.toString,zepto={},camelize,uniq,tempParent=document.createElement("div");return zepto.matches=function(element,selector){if(!element||element.nodeType!==1)return!1;var matchesSelector=element.webkitMatchesSelector||element.mozMatchesSelector||element.oMatchesSelector||element.matchesSelector;if(matchesSelector)return matchesSelector.call(element,selector);var match,parent=element.parentNode,temp=!parent;return temp&&(parent=tempParent).appendChild(element),match=~zepto.qsa(parent,selector).indexOf(element),temp&&tempParent.removeChild(element),match},camelize=function(str){return str.replace(/-+(.)?/g,function(match,chr){return chr?chr.toUpperCase():""})},uniq=function(array){return array.filter(function(item,idx){return array.indexOf(item)==idx})},zepto.fragment=function(html,name){name===undefined&&(name=fragmentRE.test(html)&&RegExp.$1),name in containers||(name="*");var container=containers[name];return container.innerHTML=""+html,$.each(slice.call(container.childNodes),function(){container.removeChild(this)})},zepto.Z=function(dom,selector){return dom=dom||[],dom.__proto__=arguments.callee.prototype,dom.selector=selector||"",dom},zepto.isZ=function(object){return object instanceof zepto.Z},zepto.init=function(selector,context){if(!selector)return zepto.Z();if(isFunction(selector))return $(document).ready(selector);if(zepto.isZ(selector))return selector;var dom;if(isArray(selector))dom=compact(selector);else if(isPlainObject(selector))dom=[$.extend({},selector)],selector=null;else if(elementTypes.indexOf(selector.nodeType)>=0||selector===window)dom=[selector],selector=null;else if(fragmentRE.test(selector))dom=zepto.fragment(selector.trim(),RegExp.$1),selector=null;else{if(context!==undefined)return $(context).find(selector);dom=zepto.qsa(document,selector)}return zepto.Z(dom,selector)},$=function(selector,context){return zepto.init(selector,context)},$.extend=function(target){return slice.call(arguments,1).forEach(function(source){for(key in source)source[key]!==undefined&&(target[key]=source[key])}),target},zepto.qsa=function(element,selector){var found;return element===document&&idSelectorRE.test(selector)?(found=element.getElementById(RegExp.$1))?[found]:emptyArray:element.nodeType!==1&&element.nodeType!==9?emptyArray:slice.call(classSelectorRE.test(selector)?element.getElementsByClassName(RegExp.$1):tagSelectorRE.test(selector)?element.getElementsByTagName(selector):element.querySelectorAll(selector))},$.isFunction=isFunction,$.isObject=isObject,$.isArray=isArray,$.isPlainObject=isPlainObject,$.inArray=function(elem,array,i){return emptyArray.indexOf.call(array,elem,i)},$.trim=function(str){return str.trim()},$.uuid=0,$.map=function(elements,callback){var value,values=[],i,key;if(likeArray(elements))for(i=0;i<elements.length;i++)value=callback(elements[i],i),value!=null&&values.push(value);else for(key in elements)value=callback(elements[key],key),value!=null&&values.push(value);return flatten(values)},$.each=function(elements,callback){var i,key;if(likeArray(elements)){for(i=0;i<elements.length;i++)if(callback.call(elements[i],i,elements[i])===!1)return elements}else for(key in elements)if(callback.call(elements[key],key,elements[key])===!1)return elements;return elements},$.fn={forEach:emptyArray.forEach,reduce:emptyArray.reduce,push:emptyArray.push,indexOf:emptyArray.indexOf,concat:emptyArray.concat,map:function(fn){return $.map(this,function(el,i){return fn.call(el,i,el)})},slice:function(){return $(slice.apply(this,arguments))},ready:function(callback){return readyRE.test(document.readyState)?callback($):document.addEventListener("DOMContentLoaded",function(){callback($)},!1),this},get:function(idx){return idx===undefined?slice.call(this):this[idx]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){this.parentNode!=null&&this.parentNode.removeChild(this)})},each:function(callback){return this.forEach(function(el,idx){callback.call(el,idx,el)}),this},filter:function(selector){return $([].filter.call(this,function(element){return zepto.matches(element,selector)}))},add:function(selector,context){return $(uniq(this.concat($(selector,context))))},is:function(selector){return this.length>0&&zepto.matches(this[0],selector)},not:function(selector){var nodes=[];if(isFunction(selector)&&selector.call!==undefined)this.each(function(idx){selector.call(this,idx)||nodes.push(this)});else{var excludes=typeof selector=="string"?this.filter(selector):likeArray(selector)&&isFunction(selector.item)?slice.call(selector):$(selector);this.forEach(function(el){excludes.indexOf(el)<0&&nodes.push(el)})}return $(nodes)},eq:function(idx){return idx===-1?this.slice(idx):this.slice(idx,+idx+1)},first:function(){var el=this[0];return el&&!isObject(el)?el:$(el)},last:function(){var el=this[this.length-1];return el&&!isObject(el)?el:$(el)},find:function(selector){var result;return this.length==1?result=zepto.qsa(this[0],selector):result=this.map(function(){return zepto.qsa(this,selector)}),$(result)},closest:function(selector,context){var node=this[0];while(node&&!zepto.matches(node,selector))node=node!==context&&node!==document&&node.parentNode;return $(node)},parents:function(selector){var ancestors=[],nodes=this;while(nodes.length>0)nodes=$.map(nodes,function(node){if((node=node.parentNode)&&node!==document&&ancestors.indexOf(node)<0)return ancestors.push(node),node});return filtered(ancestors,selector)},parent:function(selector){return filtered(uniq(this.pluck("parentNode")),selector)},children:function(selector){return filtered(this.map(function(){return slice.call(this.children)}),selector)},siblings:function(selector){return filtered(this.map(function(i,el){return slice.call(el.parentNode.children).filter(function(child){return child!==el})}),selector)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(property){return this.map(function(){return this[property]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display=null),getComputedStyle(this,"").getPropertyValue("display")=="none"&&(this.style.display=defaultDisplay(this.nodeName))})},replaceWith:function(newContent){return this.before(newContent).remove()},wrap:function(newContent){return this.each(function(){$(this).wrapAll($(newContent)[0].cloneNode(!1))})},wrapAll:function(newContent){return this[0]&&($(this[0]).before(newContent=$(newContent)),newContent.append(this)),this},unwrap:function(){return this.parent().each(function(){$(this).replaceWith($(this).children())}),this},clone:function(){return $(this.map(function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(setting){return(setting===undefined?this.css("display")=="none":setting)?this.show():this.hide()},prev:function(){return $(this.pluck("previousElementSibling"))},next:function(){return $(this.pluck("nextElementSibling"))},html:function(html){return html===undefined?this.length>0?this[0].innerHTML:null:this.each(function(idx){var originHtml=this.innerHTML;$(this).empty().append(funcArg(this,html,idx,originHtml))})},text:function(text){return text===undefined?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=text})},attr:function(name,value){var result;return typeof name=="string"&&value===undefined?this.length==0||this[0].nodeType!==1?undefined:name=="value"&&this[0].nodeName=="INPUT"?this.val():!(result=this[0].getAttribute(name))&&name in this[0]?this[0][name]:result:this.each(function(idx){if(this.nodeType!==1)return;if(isObject(name))for(key in name)this.setAttribute(key,name[key]);else this.setAttribute(name,funcArg(this,value,idx,this.getAttribute(name)))})},removeAttr:function(name){return this.each(function(){this.nodeType===1&&this.removeAttribute(name)})},prop:function(name,value){return value===undefined?this[0]?this[0][name]:undefined:this.each(function(idx){this[name]=funcArg(this,value,idx,this[name])})},data:function(name,value){var data=this.attr("data-"+dasherize(name),value);return data!==null?data:undefined},val:function(value){return value===undefined?this.length>0?this[0].value:undefined:this.each(function(idx){this.value=funcArg(this,value,idx,this.value)})},offset:function(){if(this.length==0)return null;var obj=this[0].getBoundingClientRect();return{left:obj.left+window.pageXOffset,top:obj.top+window.pageYOffset,width:obj.width,height:obj.height}},css:function(property,value){if(value===undefined&&typeof property=="string")return this.length==0?undefined:this[0].style[camelize(property)]||getComputedStyle(this[0],"").getPropertyValue(property);var css="";for(key in property)typeof property[key]=="string"&&property[key]==""?this.each(function(){this.style.removeProperty(dasherize(key))}):css+=dasherize(key)+":"+maybeAddPx(key,property[key])+";";return typeof property=="string"&&(value==""?this.each(function(){this.style.removeProperty(dasherize(property))}):css=dasherize(property)+":"+maybeAddPx(property,value)),this.each(function(){this.style.cssText+=";"+css})},index:function(element){return element?this.indexOf($(element)[0]):this.parent().children().indexOf(this[0])},hasClass:function(name){return this.length<1?!1:classRE(name).test(this[0].className)},addClass:function(name){return this.each(function(idx){classList=[];var cls=this.className,newName=funcArg(this,name,idx,cls);newName.split(/\s+/g).forEach(function(klass){$(this).hasClass(klass)||classList.push(klass)},this),classList.length&&(this.className+=(cls?" ":"")+classList.join(" "))})},removeClass:function(name){return this.each(function(idx){if(name===undefined)return this.className="";classList=this.className,funcArg(this,name,idx,classList).split(/\s+/g).forEach(function(klass){classList=classList.replace(classRE(klass)," ")}),this.className=classList.trim()})},toggleClass:function(name,when){return this.each(function(idx){var newName=funcArg(this,name,idx,this.className);(when===undefined?!$(this).hasClass(newName):when)?$(this).addClass(newName):$(this).removeClass(newName)})}},["width","height"].forEach(function(dimension){$.fn[dimension]=function(value){var offset,Dimension=dimension.replace(/./,function(m){return m[0].toUpperCase()});return value===undefined?this[0]==window?window["inner"+Dimension]:this[0]==document?document.documentElement["offset"+Dimension]:(offset=this.offset())&&offset[dimension]:this.each(function(idx){var el=$(this);el.css(dimension,funcArg(this,value,idx,el[dimension]()))})}}),adjacencyOperators.forEach(function(key,operator){$.fn[key]=function(){var nodes=$.map(arguments,function(n){return isObject(n)?n:zepto.fragment(n)});if(nodes.length<1)return this;var size=this.length,copyByClone=size>1,inReverse=operator<2;return this.each(function(index,target){for(var i=0;i<nodes.length;i++){var node=nodes[inReverse?nodes.length-i-1:i];traverseNode(node,function(node){node.nodeName!=null&&node.nodeName.toUpperCase()==="SCRIPT"&&(!node.type||node.type==="text/javascript")&&window.eval.call(window,node.innerHTML)}),copyByClone&&index<size-1&&(node=node.cloneNode(!0)),insert(operator,target,node)}})},$.fn[operator%2?key+"To":"insert"+(operator?"Before":"After")]=function(html){return $(html)[key](this),this}}),zepto.Z.prototype=$.fn,zepto.camelize=camelize,zepto.uniq=uniq,$.zepto=zepto,$}();window.Zepto=Zepto,"$"in window||(window.$=Zepto),function($){function zid(element){return element._zid||(element._zid=_zid++)}function findHandlers(element,event,fn,selector){event=parse(event);if(event.ns)var matcher=matcherFor(event.ns);return(handlers[zid(element)]||[]).filter(function(handler){return handler&&(!event.e||handler.e==event.e)&&(!event.ns||matcher.test(handler.ns))&&(!fn||zid(handler.fn)===zid(fn))&&(!selector||handler.sel==selector)})}function parse(event){var parts=(""+event).split(".");return{e:parts[0],ns:parts.slice(1).sort().join(" ")}}function matcherFor(ns){return new RegExp("(?:^| )"+ns.replace(" "," .* ?")+"(?: |$)")}function eachEvent(events,fn,iterator){$.isObject(events)?$.each(events,iterator):events.split(/\s/).forEach(function(type){iterator(type,fn)})}function add(element,events,fn,selector,getDelegate,capture){capture=!!capture;var id=zid(element),set=handlers[id]||(handlers[id]=[]);eachEvent(events,fn,function(event,fn){var delegate=getDelegate&&getDelegate(fn,event),callback=delegate||fn,proxyfn=function(event){var result=callback.apply(element,[event].concat(event.data));return result===!1&&event.preventDefault(),result},handler=$.extend(parse(event),{fn:fn,proxy:proxyfn,sel:selector,del:delegate,i:set.length});set.push(handler),element.addEventListener(handler.e,proxyfn,capture)})}function remove(element,events,fn,selector){var id=zid(element);eachEvent(events||"",fn,function(event,fn){findHandlers(element,event,fn,selector).forEach(function(handler){delete handlers[id][handler.i],element.removeEventListener(handler.e,handler.proxy,!1)})})}function createProxy(event){var proxy=$.extend({originalEvent:event},event);return $.each(eventMethods,function(name,predicate){proxy[name]=function(){return this[predicate]=returnTrue,event[name].apply(event,arguments)},proxy[predicate]=returnFalse}),proxy}function fix(event){if(!("defaultPrevented"in event)){event.defaultPrevented=!1;var prevent=event.preventDefault;event.preventDefault=function(){this.defaultPrevented=!0,prevent.call(this)}}}var $$=$.zepto.qsa,handlers={},_zid=1,specialEvents={};specialEvents.click=specialEvents.mousedown=specialEvents.mouseup=specialEvents.mousemove="MouseEvents",$.event={add:add,remove:remove},$.proxy=function(fn,context){if($.isFunction(fn)){var proxyFn=function(){return fn.apply(context,arguments)};return proxyFn._zid=zid(fn),proxyFn}if(typeof context=="string")return $.proxy(fn[context],fn);throw new TypeError("expected function")},$.fn.bind=function(event,callback){return this.each(function(){add(this,event,callback)})},$.fn.unbind=function(event,callback){return this.each(function(){remove(this,event,callback)})},$.fn.one=function(event,callback){return this.each(function(i,element){add(this,event,callback,null,function(fn,type){return function(){var result=fn.apply(element,arguments);return remove(element,type,fn),result}})})};var returnTrue=function(){return!0},returnFalse=function(){return!1},eventMethods={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};$.fn.delegate=function(selector,event,callback){var capture=!1;if(event=="blur"||event=="focus")$.iswebkit?event=event=="blur"?"focusout":event=="focus"?"focusin":event:capture=!0;return this.each(function(i,element){add(element,event,callback,selector,function(fn){return function(e){var evt,match=$(e.target).closest(selector,element).get(0);if(match)return evt=$.extend(createProxy(e),{currentTarget:match,liveFired:element}),fn.apply(match,[evt].concat([].slice.call(arguments,1)))}},capture)})},$.fn.undelegate=function(selector,event,callback){return this.each(function(){remove(this,event,callback,selector)})},$.fn.live=function(event,callback){return $(document.body).delegate(this.selector,event,callback),this},$.fn.die=function(event,callback){return $(document.body).undelegate(this.selector,event,callback),this},$.fn.on=function(event,selector,callback){return selector==undefined||$.isFunction(selector)?this.bind(event,selector):this.delegate(selector,event,callback)},$.fn.off=function(event,selector,callback){return selector==undefined||$.isFunction(selector)?this.unbind(event,selector):this.undelegate(selector,event,callback)},$.fn.trigger=function(event,data){return typeof event=="string"&&(event=$.Event(event)),fix(event),event.data=data,this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(event)})},$.fn.triggerHandler=function(event,data){var e,result;return this.each(function(i,element){e=createProxy(typeof event=="string"?$.Event(event):event),e.data=data,e.target=element,$.each(findHandlers(element,event.type||event),function(i,handler){result=handler.proxy(e);if(e.isImmediatePropagationStopped())return!1})}),result},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout change select keydown keypress keyup error".split(" ").forEach(function(event){$.fn[event]=function(callback){return this.bind(event,callback)}}),["focus","blur"].forEach(function(name){$.fn[name]=function(callback){if(callback)this.bind(name,callback);else if(this.length)try{this.get(0)[name]()}catch(e){}return this}}),$.Event=function(type,props){var event=document.createEvent(specialEvents[type]||"Events"),bubbles=!0;if(props)for(var name in props)name=="bubbles"?bubbles=!!props[name]:event[name]=props[name];return event.initEvent(type,bubbles,!0,null,null,null,null,null,null,null,null,null,null,null,null),event}}(Zepto),function($){function detect(ua){var os=this.os={},browser=this.browser={},webkit=ua.match(/WebKit\/([\d.]+)/),android=ua.match(/(Android)\s+([\d.]+)/),ipad=ua.match(/(iPad).*OS\s([\d_]+)/),iphone=!ipad&&ua.match(/(iPhone\sOS)\s([\d_]+)/),webos=ua.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),touchpad=webos&&ua.match(/TouchPad/),kindle=ua.match(/Kindle\/([\d.]+)/),silk=ua.match(/Silk\/([\d._]+)/),blackberry=ua.match(/(BlackBerry).*Version\/([\d.]+)/);if(browser.webkit=!!webkit)browser.version=webkit[1];android&&(os.android=!0,os.version=android[2]),iphone&&(os.ios=os.iphone=!0,os.version=iphone[2].replace(/_/g,".")),ipad&&(os.ios=os.ipad=!0,os.version=ipad[2].replace(/_/g,".")),webos&&(os.webos=!0,os.version=webos[2]),touchpad&&(os.touchpad=!0),blackberry&&(os.blackberry=!0,os.version=blackberry[2]),kindle&&(os.kindle=!0,os.version=kindle[1]),silk&&(browser.silk=!0,browser.version=silk[1]),!silk&&os.android&&ua.match(/Kindle Fire/)&&(browser.silk=!0)}detect.call($,navigator.userAgent),$.__detect=detect}(Zepto),function($,undefined){function downcase(str){return str.toLowerCase()}function normalizeEvent(name){return eventPrefix?eventPrefix+name:downcase(name)}var prefix="",eventPrefix,endEventName,endAnimationName,vendors={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},document=window.document,testEl=document.createElement("div"),supportedTransforms=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,clearProperties={};$.each(vendors,function(vendor,event){if(testEl.style[vendor+"TransitionProperty"]!==undefined)return prefix="-"+downcase(vendor)+"-",eventPrefix=event,!1}),clearProperties[prefix+"transition-property"]=clearProperties[prefix+"transition-duration"]=clearProperties[prefix+"transition-timing-function"]=clearProperties[prefix+"animation-name"]=clearProperties[prefix+"animation-duration"]="",$.fx={off:eventPrefix===undefined&&testEl.style.transitionProperty===undefined,cssPrefix:prefix,transitionEnd:normalizeEvent("TransitionEnd"),animationEnd:normalizeEvent("AnimationEnd")},$.fn.animate=function(properties,duration,ease,callback){return $.isObject(duration)&&(ease=duration.easing,callback=duration.complete,duration=duration.duration),duration&&(duration/=1e3),this.anim(properties,duration,ease,callback)},$.fn.anim=function(properties,duration,ease,callback){var transforms,cssProperties={},key,that=this,wrappedCallback,endEvent=$.fx.transitionEnd;duration===undefined&&(duration=.4),$.fx.off&&(duration=0);if(typeof properties=="string")cssProperties[prefix+"animation-name"]=properties,cssProperties[prefix+"animation-duration"]=duration+"s",endEvent=$.fx.animationEnd;else{for(key in properties)supportedTransforms.test(key)?(transforms||(transforms=[]),transforms.push(key+"("+properties[key]+")")):cssProperties[key]=properties[key];transforms&&(cssProperties[prefix+"transform"]=transforms.join(" ")),!$.fx.off&&typeof properties=="object"&&(cssProperties[prefix+"transition-property"]=Object.keys(properties).join(", "),cssProperties[prefix+"transition-duration"]=duration+"s",cssProperties[prefix+"transition-timing-function"]=ease||"linear")}return wrappedCallback=function(event){if(typeof event!="undefined"){if(event.target!==event.currentTarget)return;$(event.target).unbind(endEvent,arguments.callee)}$(this).css(clearProperties),callback&&callback.call(this)},duration>0&&this.bind(endEvent,wrappedCallback),setTimeout(function(){that.css(cssProperties),duration<=0&&setTimeout(function(){that.each(function(){wrappedCallback.call(this)})},0)},0),this},testEl=null}(Zepto),function($){function triggerAndReturn(context,eventName,data){var event=$.Event(eventName);return $(context).trigger(event,data),!event.defaultPrevented}function triggerGlobal(settings,context,eventName,data){if(settings.global)return triggerAndReturn(context||document,eventName,data)}function ajaxStart(settings){settings.global&&$.active++===0&&triggerGlobal(settings,null,"ajaxStart")}function ajaxStop(settings){settings.global&&!--$.active&&triggerGlobal(settings,null,"ajaxStop")}function ajaxBeforeSend(xhr,settings){var context=settings.context;if(settings.beforeSend.call(context,xhr,settings)===!1||triggerGlobal(settings,context,"ajaxBeforeSend",[xhr,settings])===!1)return!1;triggerGlobal(settings,context,"ajaxSend",[xhr,settings])}function ajaxSuccess(data,xhr,settings){var context=settings.context,status="success";settings.success.call(context,data,status,xhr),triggerGlobal(settings,context,"ajaxSuccess",[xhr,settings,data]),ajaxComplete(status,xhr,settings)}function ajaxError(error,type,xhr,settings){var context=settings.context;settings.error.call(context,xhr,type,error),triggerGlobal(settings,context,"ajaxError",[xhr,settings,error]),ajaxComplete(type,xhr,settings)}function ajaxComplete(status,xhr,settings){var context=settings.context;settings.complete.call(context,xhr,status),triggerGlobal(settings,context,"ajaxComplete",[xhr,settings]),ajaxStop(settings)}function empty(){}function mimeToDataType(mime){return mime&&(mime==htmlType?"html":mime==jsonType?"json":scriptTypeRE.test(mime)?"script":xmlTypeRE.test(mime)&&"xml")||"text"}function appendQuery(url,query){return(url+"&"+query).replace(/[&?]{1,2}/,"?")}function serializeData(options){isObject(options.data)&&(options.data=$.param(options.data)),options.data&&(!options.type||options.type.toUpperCase()=="GET")&&(options.url=appendQuery(options.url,options.data))}function serialize(params,obj,traditional,scope){var array=$.isArray(obj);$.each(obj,function(key,value){scope&&(key=traditional?scope:scope+"["+(array?"":key)+"]"),!scope&&array?params.add(value.name,value.value):(traditional?$.isArray(value):isObject(value))?serialize(params,value,traditional,key):params.add(key,value)})}var jsonpID=0,isObject=$.isObject,document=window.document,key,name,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/;$.active=0,$.ajaxJSONP=function(options){var callbackName="jsonp"+ ++jsonpID,script=document.createElement("script"),abort=function(){$(script).remove(),callbackName in window&&(window[callbackName]=empty),ajaxComplete("abort",xhr,options)},xhr={abort:abort},abortTimeout;return options.error&&(script.onerror=function(){xhr.abort(),options.error()}),window[callbackName]=function(data){clearTimeout(abortTimeout),$(script).remove(),delete window[callbackName],ajaxSuccess(data,xhr,options)},serializeData(options),script.src=options.url.replace(/=\?/,"="+callbackName),$("head").append(script),options.timeout>0&&(abortTimeout=setTimeout(function(){xhr.abort(),ajaxComplete("timeout",xhr,options)},options.timeout)),xhr},$.ajaxSettings={type:"GET",beforeSend:empty,success:empty,error:empty,complete:empty,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain"},crossDomain:!1,timeout:0},$.ajax=function(options){var settings=$.extend({},options||{});for(key in $.ajaxSettings)settings[key]===undefined&&(settings[key]=$.ajaxSettings[key]);ajaxStart(settings),settings.crossDomain||(settings.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(settings.url)&&RegExp.$2!=window.location.host);var dataType=settings.dataType,hasPlaceholder=/=\?/.test(settings.url);if(dataType=="jsonp"||hasPlaceholder)return hasPlaceholder||(settings.url=appendQuery(settings.url,"callback=?")),$.ajaxJSONP(settings);settings.url||(settings.url=window.location.toString()),serializeData(settings);var mime=settings.accepts[dataType],baseHeaders={},protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:window.location.protocol,xhr=$.ajaxSettings.xhr(),abortTimeout;settings.crossDomain||(baseHeaders["X-Requested-With"]="XMLHttpRequest"),mime&&(baseHeaders.Accept=mime,mime.indexOf(",")>-1&&(mime=mime.split(",",2)[0]),xhr.overrideMimeType&&xhr.overrideMimeType(mime));if(settings.contentType||settings.data&&settings.type.toUpperCase()!="GET")baseHeaders["Content-Type"]=settings.contentType||"application/x-www-form-urlencoded";settings.headers=$.extend(baseHeaders,settings.headers||{}),xhr.onreadystatechange=function(){if(xhr.readyState==4){clearTimeout(abortTimeout);var result,error=!1;if(xhr.status>=200&&xhr.status<300||xhr.status==304||xhr.status==0&&protocol=="file:"){dataType=dataType||mimeToDataType(xhr.getResponseHeader("content-type")),result=xhr.responseText;try{dataType=="script"?(1,eval)(result):dataType=="xml"?result=xhr.responseXML:dataType=="json"&&(result=blankRE.test(result)?null:JSON.parse(result))}catch(e){error=e}error?ajaxError(error,"parsererror",xhr,settings):ajaxSuccess(result,xhr,settings)}else ajaxError(null,"error",xhr,settings)}};var async="async"in settings?settings.async:!0;xhr.open(settings.type,settings.url,async);for(name in settings.headers)xhr.setRequestHeader(name,settings.headers[name]);return ajaxBeforeSend(xhr,settings)===!1?(xhr.abort(),!1):(settings.timeout>0&&(abortTimeout=setTimeout(function(){xhr.onreadystatechange=empty,xhr.abort(),ajaxError(null,"timeout",xhr,settings)},settings.timeout)),xhr.send(settings.data?settings.data:null),xhr)},$.get=function(url,success){return $.ajax({url:url,success:success})},$.post=function(url,data,success,dataType){return $.isFunction(data)&&(dataType=dataType||success,success=data,data=null),$.ajax({type:"POST",url:url,data:data,success:success,dataType:dataType})},$.getJSON=function(url,success){return $.ajax({url:url,success:success,dataType:"json"})},$.fn.load=function(url,success){if(!this.length)return this;var self=this,parts=url.split(/\s/),selector;return parts.length>1&&(url=parts[0],selector=parts[1]),$.get(url,function(response){self.html(selector?$(document.createElement("div")).html(response.replace(rscript,"")).find(selector).html():response),success&&success.call(self)}),this};var escape=encodeURIComponent;$.param=function(obj,traditional){var params=[];return params.add=function(k,v){this.push(escape(k)+"="+escape(v))},serialize(params,obj,traditional),params.join("&").replace("%20","+")}}(Zepto),function($){$.fn.serializeArray=function(){var result=[],el;return $(Array.prototype.slice.call(this.get(0).elements)).each(function(){el=$(this);var type=el.attr("type");this.nodeName.toLowerCase()!="fieldset"&&!this.disabled&&type!="submit"&&type!="reset"&&type!="button"&&(type!="radio"&&type!="checkbox"||this.checked)&&result.push({name:el.attr("name"),value:el.val()})}),result},$.fn.serialize=function(){var result=[];return this.serializeArray().forEach(function(elm){result.push(encodeURIComponent(elm.name)+"="+encodeURIComponent(elm.value))}),result.join("&")},$.fn.submit=function(callback){if(callback)this.bind("submit",callback);else if(this.length){var event=$.Event("submit");this.eq(0).trigger(event),event.defaultPrevented||this.get(0).submit()}return this}}(Zepto),function($){function parentIfText(node){return"tagName"in node?node:node.parentNode}function swipeDirection(x1,x2,y1,y2){var xDelta=Math.abs(x1-x2),yDelta=Math.abs(y1-y2);return xDelta>=yDelta?x1-x2>0?"Left":"Right":y1-y2>0?"Up":"Down"}function longTap(){longTapTimeout=null,touch.last&&(touch.el.trigger("longTap"),touch={})}function cancelLongTap(){longTapTimeout&&clearTimeout(longTapTimeout),longTapTimeout=null}var touch={},touchTimeout,longTapDelay=750,longTapTimeout;$(document).ready(function(){var now,delta;$(document.body).bind("touchstart",function(e){now=Date.now(),delta=now-(touch.last||now),touch.el=$(parentIfText(e.touches[0].target)),touchTimeout&&clearTimeout(touchTimeout),touch.x1=e.touches[0].pageX,touch.y1=e.touches[0].pageY,delta>0&&delta<=250&&(touch.isDoubleTap=!0),touch.last=now,longTapTimeout=setTimeout(longTap,longTapDelay)}).bind("touchmove",function(e){cancelLongTap(),touch.x2=e.touches[0].pageX,touch.y2=e.touches[0].pageY}).bind("touchend",function(e){cancelLongTap(),touch.isDoubleTap?(touch.el.trigger("doubleTap"),touch={}):touch.x2&&Math.abs(touch.x1-touch.x2)>30||touch.y2&&Math.abs(touch.y1-touch.y2)>30?(touch.el.trigger("swipe")&&touch.el.trigger("swipe"+swipeDirection(touch.x1,touch.x2,touch.y1,touch.y2)),touch={}):"last"in touch&&(touch.el.trigger("tap"),touchTimeout=setTimeout(function(){touchTimeout=null,touch.el.trigger("singleTap"),touch={}},250))}).bind("touchcancel",function(){touchTimeout&&clearTimeout(touchTimeout),longTapTimeout&&clearTimeout(longTapTimeout),longTapTimeout=touchTimeout=null,touch={}})}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(m){$.fn[m]=function(callback){return this.bind(m,callback)}})}(Zepto),define("jquery",function(global){return function(){return global.$}}(this)),function(){function eq(a,b,stack){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;a._chain&&(a=a._wrapped),b._chain&&(b=b._wrapped);if(a.isEqual&&_.isFunction(a.isEqual))return a.isEqual(b);if(b.isEqual&&_.isFunction(b.isEqual))return b.isEqual(a);var className=toString.call(a);if(className!=toString.call(b))return!1;switch(className){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return!1;var length=stack.length;while(length--)if(stack[length]==a)return!0;stack.push(a);var size=0,result=!0;if(className=="[object Array]"){size=a.length,result=size==b.length;if(result)while(size--)if(!(result=size in a==size in b&&eq(a[size],b[size],stack)))break}else{if("constructor"in a!="constructor"in b||a.constructor!=b.constructor)return!1;for(var key in a)if(_.has(a,key)){size++;if(!(result=_.has(b,key)&&eq(a[key],b[key],stack)))break}if(result){for(key in b)if(_.has(b,key)&&!(size--))break;result=!size}}return stack.pop(),result}var root=this,previousUnderscore=root._,breaker={},ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,slice=ArrayProto.slice,unshift=ArrayProto.unshift,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,_=function(obj){return new wrapper(obj)};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=_),exports._=_):root._=_,_.VERSION="1.3.3";var each=_.each=_.forEach=function(obj,iterator,context){if(obj==null)return;if(nativeForEach&&obj.forEach===nativeForEach)obj.forEach(iterator,context);else if(obj.length===+obj.length){for(var i=0,l=obj.length;i<l;i++)if(i in obj&&iterator.call(context,obj[i],i,obj)===breaker)return}else for(var key in obj)if(_.has(obj,key)&&iterator.call(context,obj[key],key,obj)===breaker)return};_.map=_.collect=function(obj,iterator,context){var results=[];return obj==null?results:nativeMap&&obj.map===nativeMap?obj.map(iterator,context):(each(obj,function(value,index,list){results[results.length]=iterator.call(context,value,index,list)}),obj.length===+obj.length&&(results.length=obj.length),results)},_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;obj==null&&(obj=[]);if(nativeReduce&&obj.reduce===nativeReduce)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduce(iterator,memo):obj.reduce(iterator);each(obj,function(value,index,list){initial?memo=iterator.call(context,memo,value,index,list):(memo=value,initial=!0)});if(!initial)throw new TypeError("Reduce of empty array with no initial value");return memo},_.reduceRight=_.foldr=function(obj,iterator,memo,context){var initial=arguments.length>2;obj==null&&(obj=[]);if(nativeReduceRight&&obj.reduceRight===nativeReduceRight)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator);var reversed=_.toArray(obj).reverse();return context&&!initial&&(iterator=_.bind(iterator,context)),initial?_.reduce(reversed,iterator,memo,context):_.reduce(reversed,iterator)},_.find=_.detect=function(obj,iterator,context){var result;return any(obj,function(value,index,list){if(iterator.call(context,value,index,list))return result=value,!0}),result},_.filter=_.select=function(obj,iterator,context){var results=[];return obj==null?results:nativeFilter&&obj.filter===nativeFilter?obj.filter(iterator,context):(each(obj,function(value,index,list){iterator.call(context,value,index,list)&&(results[results.length]=value)}),results)},_.reject=function(obj,iterator,context){var results=[];return obj==null?results:(each(obj,function(value,index,list){iterator.call(context,value,index,list)||(results[results.length]=value)}),results)},_.every=_.all=function(obj,iterator,context){var result=!0;return obj==null?result:nativeEvery&&obj.every===nativeEvery?obj.every(iterator,context):(each(obj,function(value,index,list){if(!(result=result&&iterator.call(context,value,index,list)))return breaker}),!!result)};var any=_.some=_.any=function(obj,iterator,context){iterator||(iterator=_.identity);var result=!1;return obj==null?result:nativeSome&&obj.some===nativeSome?obj.some(iterator,context):(each(obj,function(value,index,list){if(result||(result=iterator.call(context,value,index,list)))return breaker}),!!result)};_.include=_.contains=function(obj,target){var found=!1;return obj==null?found:nativeIndexOf&&obj.indexOf===nativeIndexOf?obj.indexOf(target)!=-1:(found=any(obj,function(value){return value===target}),found)},_.invoke=function(obj,method){var args=slice.call(arguments,2);return _.map(obj,function(value){return(_.isFunction(method)?method||value:value[method]).apply(value,args)})},_.pluck=function(obj,key){return _.map(obj,function(value){return value[key]})},_.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0])return Math.max.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return-Infinity;var result={computed:-Infinity};return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>=result.computed&&(result={value:value,computed:computed})}),result.value},_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0])return Math.min.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return Infinity;var result={computed:Infinity};return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed<result.computed&&(result={value:value,computed:computed})}),result.value},_.shuffle=function(obj){var shuffled=[],rand;return each(obj,function(value,index,list){rand=Math.floor(Math.random()*(index+1)),shuffled[index]=shuffled[rand],shuffled[rand]=value}),shuffled},_.sortBy=function(obj,val,context){var iterator=_.isFunction(val)?val:function(obj){return obj[val]};return _.pluck(_.map(obj,function(value,index,list){return{value:value,criteria:iterator.call(context,value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;return a===void 0?1:b===void 0?-1:a<b?-1:a>b?1:0}),"value")},_.groupBy=function(obj,val){var result={},iterator=_.isFunction(val)?val:function(obj){return obj[val]};return each(obj,function(value,index){var key=iterator(value,index);(result[key]||(result[key]=[])).push(value)}),result},_.sortedIndex=function(array,obj,iterator){iterator||(iterator=_.identity);var low=0,high=array.length;while(low<high){var mid=low+high>>1;iterator(array[mid])<iterator(obj)?low=mid+1:high=mid}return low},_.toArray=function(obj){return obj?_.isArray(obj)?slice.call(obj):_.isArguments(obj)?slice.call(obj):obj.toArray&&_.isFunction(obj.toArray)?obj.toArray():_.values(obj):[]},_.size=function(obj){return _.isArray(obj)?obj.length:_.keys(obj).length},_.first=_.head=_.take=function(array,n,guard){return n!=null&&!guard?slice.call(array,0,n):array[0]},_.initial=function(array,n,guard){return slice.call(array,0,array.length-(n==null||guard?1:n))},_.last=function(array,n,guard){return n!=null&&!guard?slice.call(array,Math.max(array.length-n,0)):array[array.length-1]},_.rest=_.tail=function(array,index,guard){return slice.call(array,index==null||guard?1:index)},_.compact=function(array){return _.filter(array,function(value){return!!value})},_.flatten=function(array,shallow){return _.reduce(array,function(memo,value){return _.isArray(value)?memo.concat(shallow?value:_.flatten(value)):(memo[memo.length]=value,memo)},[])},_.without=function(array){return _.difference(array,slice.call(arguments,1))},_.uniq=_.unique=function(array,isSorted,iterator){var initial=iterator?_.map(array,iterator):array,results=[];return array.length<3&&(isSorted=!0),_.reduce(initial,function(memo,value,index){if(isSorted?_.last(memo)!==value||!memo.length:!_.include(memo,value))memo.push(value),results.push(array[index]);return memo},[]),results},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=_.intersect=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.indexOf(other,item)>=0})})},_.difference=function(array){var rest=_.flatten(slice.call(arguments,1),!0);return _.filter(array,function(value){return!_.include(rest,value)})},_.zip=function(){var args=slice.call(arguments),length=_.max(_.pluck(args,"length")),results=new Array(length);for(var i=0;i<length;i++)results[i]=_.pluck(args,""+i);return results},_.indexOf=function(array,item,isSorted){if(array==null)return-1;var i,l;if(isSorted)return i=_.sortedIndex(array,item),array[i]===item?i:-1;if(nativeIndexOf&&array.indexOf===nativeIndexOf)return array.indexOf(item);for(i=0,l=array.length;i<l;i++)if(i in array&&array[i]===item)return i;return-1},_.lastIndexOf=function(array,item){if(array==null)return-1;if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf)return array.lastIndexOf(item);var i=array.length;while(i--)if(i in array&&array[i]===item)return i;return-1},_.range=function(start,stop,step){arguments.length<=1&&(stop=start||0,start=0),step=arguments[2]||1;var len=Math.max(Math.ceil((stop-start)/step),0),idx=0,range=new Array(len);while(idx<len)range[idx++]=start,start+=step;return range};var ctor=function(){};_.bind=function(func,context){var bound,args;if(func.bind===nativeBind&&nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError;return args=slice.call(arguments,2),bound=function(){if(this instanceof bound){ctor.prototype=func.prototype;var self=new ctor,result=func.apply(self,args.concat(slice.call(arguments)));return Object(result)===result?result:self}return func.apply(context,args.concat(slice.call(arguments)))}},_.bindAll=function(obj){var funcs=slice.call(arguments,1);return funcs.length==0&&(funcs=_.functions(obj)),each(funcs,function(f){obj[f]=_.bind(obj[f],obj)}),obj},_.memoize=function(func,hasher){var memo={};return hasher||(hasher=_.identity),function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:memo[key]=func.apply(this,arguments)}},_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)},_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)))},_.throttle=function(func,wait){var context,args,timeout,throttling,more,result,whenDone=_.debounce(function(){more=throttling=!1},wait);return function(){context=this,args=arguments;var later=function(){timeout=null,more&&func.apply(context,args),whenDone()};return timeout||(timeout=setTimeout(later,wait)),throttling?more=!0:result=func.apply(context,args),whenDone(),throttling=!0,result}},_.debounce=function(func,wait,immediate){var timeout;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||func.apply(context,args)};immediate&&!timeout&&func.apply(context,args),clearTimeout(timeout),timeout=setTimeout(later,wait)}},_.once=function(func){var ran=!1,memo;return function(){return ran?memo:(ran=!0,memo=func.apply(this,arguments))}},_.wrap=function(func,wrapper){return function(){var args=[func].concat(slice.call(arguments,0));return wrapper.apply(this,args)}},_.compose=function(){var funcs=arguments;return function(){var args=arguments;for(var i=funcs.length-1;i>=0;i--)args=[funcs[i].apply(this,args)];return args[0]}},_.after=function(times,func){return times<=0?func():function(){if(--times<1)return func.apply(this,arguments)}},_.keys=nativeKeys||function(obj){if(obj!==Object(obj))throw new TypeError("Invalid object");var keys=[];for(var key in obj)_.has(obj,key)&&(keys[keys.length]=key);return keys},_.values=function(obj){return _.map(obj,_.identity)},_.functions=_.methods=function(obj){var names=[];for(var key in obj)_.isFunction(obj[key])&&names.push(key);return names.sort()},_.extend=function(obj){return each(slice.call(arguments,1),function(source){for(var prop in source)obj[prop]=source[prop]}),obj},_.pick=function(obj){var result={};return each(_.flatten(slice.call(arguments,1)),function(key){key in obj&&(result[key]=obj[key])}),result},_.defaults=function(obj){return each(slice.call(arguments,1),function(source){for(var prop in source)obj[prop]==null&&(obj[prop]=source[prop])}),obj},_.clone=function(obj){return _.isObject(obj)?_.isArray(obj)?obj.slice():_.extend({},obj):obj},_.tap=function(obj,interceptor){return interceptor(obj),obj},_.isEqual=function(a,b){return eq(a,b,[])},_.isEmpty=function(obj){if(obj==null)return!0;if(_.isArray(obj)||_.isString(obj))return obj.length===0;for(var key in obj)if(_.has(obj,key))return!1;return!0},_.isElement=function(obj){return!!obj&&obj.nodeType==1},_.isArray=nativeIsArray||function(obj){return toString.call(obj)=="[object Array]"},_.isObject=function(obj){return obj===Object(obj)},_.isArguments=function(obj){return toString.call(obj)=="[object Arguments]"},_.isArguments(arguments)||(_.isArguments=function(obj){return!!obj&&!!_.has(obj,"callee")}),_.isFunction=function(obj){return toString.call(obj)=="[object Function]"},_.isString=function(obj){return toString.call(obj)=="[object String]"},_.isNumber=function(obj){return toString.call(obj)=="[object Number]"},_.isFinite=function(obj){return _.isNumber(obj)&&isFinite(obj)},_.isNaN=function(obj){return obj!==obj},_.isBoolean=function(obj){return obj===!0||obj===!1||toString.call(obj)=="[object Boolean]"},_.isDate=function(obj){return toString.call(obj)=="[object Date]"},_.isRegExp=function(obj){return toString.call(obj)=="[object RegExp]"},_.isNull=function(obj){return obj===null},_.isUndefined=function(obj){return obj===void 0},_.has=function(obj,key){return hasOwnProperty.call(obj,key)},_.noConflict=function(){return root._=previousUnderscore,this},_.identity=function(value){return value},_.times=function(n,iterator,context){for(var i=0;i<n;i++)iterator.call(context,i)},_.escape=function(string){return(""+string).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},_.result=function(object,property){if(object==null)return null;var value=object[property];return _.isFunction(value)?value.call(object):value},_.mixin=function(obj){each(_.functions(obj),function(name){addToWrapper(name,_[name]=obj[name])})};var idCounter=0;_.uniqueId=function(prefix){var id=idCounter++;return prefix?prefix+id:id},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/.^/,escapes={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var p in escapes)escapes[escapes[p]]=p;var escaper=/\\|'|\r|\n|\t|\u2028|\u2029/g,unescaper=/\\(\\|'|r|n|t|u2028|u2029)/g,unescape=function(code){return code.replace(unescaper,function(match,escape){return escapes[escape]})};_.template=function(text,data,settings){settings=_.defaults(settings||{},_.templateSettings);var source="__p+='"+text.replace(escaper,function(match){return"\\"+escapes[match]}).replace(settings.escape||noMatch,function(match,code){return"'+\n_.escape("+unescape(code)+")+\n'"}).replace(settings.interpolate||noMatch,function(match,code){return"'+\n("+unescape(code)+")+\n'"}).replace(settings.evaluate||noMatch,function(match,code){return"';\n"+unescape(code)+"\n;__p+='"})+"';\n";settings.variable||(source="with(obj||{}){\n"+source+"}\n"),source="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+source+"return __p;\n";var render=new Function(settings.variable||"obj","_",source);if(data)return render(data,_);var template=function(data){return render.call(this,data,_)};return template.source="function("+(settings.variable||"obj")+"){\n"+source+"}",template},_.chain=function(obj){return _(obj).chain()};var wrapper=function(obj){this._wrapped=obj};_.prototype=wrapper.prototype;var result=function(obj,chain){return chain?_(obj).chain():obj},addToWrapper=function(name,func){wrapper.prototype[name]=function(){var args=slice.call(arguments);return unshift.call(args,this._wrapped),result(func.apply(_,args),this._chain)}};_.mixin(_),each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];wrapper.prototype[name]=function(){var wrapped=this._wrapped;method.apply(wrapped,arguments);var length=wrapped.length;return(name=="shift"||name=="splice")&&length===0&&delete wrapped[0],result(wrapped,this._chain)}}),each(["concat","join","slice"],function(name){var method=ArrayProto[name];wrapper.prototype[name]=function(){return result(method.apply(this._wrapped,arguments),this._chain)}}),wrapper.prototype.chain=function(){return this._chain=!0,this},wrapper.prototype.value=function(){return this._wrapped}}.call(this),define("underscore",function(global){return function(){return global._}}(this)),function(){var root=this,previousBackbone=root.Backbone,slice=Array.prototype.slice,splice=Array.prototype.splice,Backbone;typeof exports!="undefined"?Backbone=exports:Backbone=root.Backbone={},Backbone.VERSION="0.9.2";var _=root._;!_&&typeof require!="undefined"&&(_=require("underscore"));var $=root.jQuery||root.Zepto||root.ender;Backbone.setDomLibrary=function(lib){$=lib},Backbone.noConflict=function(){return root.Backbone=previousBackbone,this},Backbone.emulateHTTP=!1,Backbone.emulateJSON=!1;var eventSplitter=/\s+/,Events=Backbone.Events={on:function(events,callback,context){var calls,event,node,tail,list;if(!callback)return this;events=events.split(eventSplitter),calls=this._callbacks||(this._callbacks={});while(event=events.shift())list=calls[event],node=list?list.tail:{},node.next=tail={},node.context=context,node.callback=callback,calls[event]={tail:tail,next:list?list.next:node};return this},off:function(events,callback,context){var event,calls,node,tail,cb,ctx;if(!(calls=this._callbacks))return;if(!(events||callback||context))return delete this._callbacks,this;events=events?events.split(eventSplitter):_.keys(calls);while(event=events.shift()){node=calls[event],delete calls[event];if(!node||!callback&&!context)continue;tail=node.tail;while((node=node.next)!==tail)cb=node.callback,ctx=node.context,(callback&&cb!==callback||context&&ctx!==context)&&this.on(event,cb,ctx)}return this},trigger:function(events){var event,node,calls,tail,args,all,rest;if(!(calls=this._callbacks))return this;all=calls.all,events=events.split(eventSplitter),rest=slice.call(arguments,1);while(event=events.shift()){if(node=calls[event]){tail=node.tail;while((node=node.next)!==tail)node.callback.apply(node.context||this,rest)}if(node=all){tail=node.tail,args=[event].concat(rest);while((node=node.next)!==tail)node.callback.apply(node.context||this,args)}}return this}};Events.bind=Events.on,Events.unbind=Events.off;var Model=Backbone.Model=function(attributes,options){var defaults;attributes||(attributes={}),options&&options.parse&&(attributes=this.parse(attributes));if(defaults=getValue(this,"defaults"))attributes=_.extend({},defaults,attributes);options&&options.collection&&(this.collection=options.collection),this.attributes={},this._escapedAttributes={},this.cid=_.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(attributes,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=_.clone(this.attributes),this.initialize.apply(this,arguments)};_.extend(Model.prototype,Events,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(options){return _.clone(this.attributes)},get:function(attr){return this.attributes[attr]},escape:function(attr){var html;if(html=this._escapedAttributes[attr])return html;var val=this.get(attr);return this._escapedAttributes[attr]=_.escape(val==null?"":""+val)},has:function(attr){return this.get(attr)!=null},set:function(key,value,options){var attrs,attr,val;_.isObject(key)||key==null?(attrs=key,options=value):(attrs={},attrs[key]=value),options||(options={});if(!attrs)return this;attrs instanceof Model&&(attrs=attrs.attributes);if(options.unset)for(attr in attrs)attrs[attr]=void 0;if(!this._validate(attrs,options))return!1;this.idAttribute in attrs&&(this.id=attrs[this.idAttribute]);var changes=options.changes={},now=this.attributes,escaped=this._escapedAttributes,prev=this._previousAttributes||{};for(attr in attrs){val=attrs[attr];if(!_.isEqual(now[attr],val)||options.unset&&_.has(now,attr))delete escaped[attr],(options.silent?this._silent:changes)[attr]=!0;options.unset?delete now[attr]:now[attr]=val,!_.isEqual(prev[attr],val)||_.has(now,attr)!=_.has(prev,attr)?(this.changed[attr]=val,options.silent||(this._pending[attr]=!0)):(delete this.changed[attr],delete this._pending[attr])}return options.silent||this.change(options),this},unset:function(attr,options){return(options||(options={})).unset=!0,this.set(attr,null,options)},clear:function(options){return(options||(options={})).unset=!0,this.set(_.clone(this.attributes),options)},fetch:function(options){options=options?_.clone(options):{};var model=this,success=options.success;return options.success=function(resp,status,xhr){if(!model.set(model.parse(resp,xhr),options))return!1;success&&success(model,resp)},options.error=Backbone.wrapError(options.error,model,options),(this.sync||Backbone.sync).call(this,"read",this,options)},save:function(key,value,options){var attrs,current;_.isObject(key)||key==null?(attrs=key,options=value):(attrs={},attrs[key]=value),options=options?_.clone(options):{};if(options.wait){if(!this._validate(attrs,options))return!1;current=_.clone(this.attributes)}var silentOptions=_.extend({},options,{silent:!0});if(attrs&&!this.set(attrs,options.wait?silentOptions:options))return!1;var model=this,success=options.success;options.success=function(resp,status,xhr){var serverAttrs=model.parse(resp,xhr);options.wait&&(delete options.wait,serverAttrs=_.extend(attrs||{},serverAttrs));if(!model.set(serverAttrs,options))return!1;success?success(model,resp):model.trigger("sync",model,resp,options)},options.error=Backbone.wrapError(options.error,model,options);var method=this.isNew()?"create":"update",xhr=(this.sync||Backbone.sync).call(this,method,this,options);return options.wait&&this.set(current,silentOptions),xhr},destroy:function(options){options=options?_.clone(options):{};var model=this,success=options.success,triggerDestroy=function(){model.trigger("destroy",model,model.collection,options)};if(this.isNew())return triggerDestroy(),!1;options.success=function(resp){options.wait&&triggerDestroy(),success?success(model,resp):model.trigger("sync",model,resp,options)},options.error=Backbone.wrapError(options.error,model,options);var xhr=(this.sync||Backbone.sync).call(this,"delete",this,options);return options.wait||triggerDestroy(),xhr},url:function(){var base=getValue(this,"urlRoot")||getValue(this.collection,"url")||urlError();return this.isNew()?base:base+(base.charAt(base.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(resp,xhr){return resp},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},change:function(options){options||(options={});var changing=this._changing;this._changing=!0;for(var attr in this._silent)this._pending[attr]=!0;var changes=_.extend({},options.changes,this._silent);this._silent={};for(var attr in changes)this.trigger("change:"+attr,this,this.get(attr),options);if(changing)return this;while(!_.isEmpty(this._pending)){this._pending={},this.trigger("change",this,options);for(var attr in this.changed){if(this._pending[attr]||this._silent[attr])continue;delete this.changed[attr]}this._previousAttributes=_.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(attr){return arguments.length?_.has(this.changed,attr):!_.isEmpty(this.changed)},changedAttributes:function(diff){if(!diff)return this.hasChanged()?_.clone(this.changed):!1;var val,changed=!1,old=this._previousAttributes;for(var attr in diff){if(_.isEqual(old[attr],val=diff[attr]))continue;(changed||(changed={}))[attr]=val}return changed},previous:function(attr){return!arguments.length||!this._previousAttributes?null:this._previousAttributes[attr]},previousAttributes:function(){return _.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(attrs,options){if(options.silent||!this.validate)return!0;attrs=_.extend({},this.attributes,attrs);var error=this.validate(attrs,options);return error?(options&&options.error?options.error(this,error,options):this.trigger("error",this,error,options),!1):!0}});var Collection=Backbone.Collection=function(models,options){options||(options={}),options.model&&(this.model=options.model),options.comparator&&(this.comparator=options.comparator),this._reset(),this.initialize.apply(this,arguments),models&&this.reset(models,{silent:!0,parse:options.parse})};_.extend(Collection.prototype,Events,{model:Model,initialize:function(){},toJSON:function(options){return this.map(function(model){return model.toJSON(options)})},add:function(models,options){var i,index,length,model,cid,id,cids={},ids={},dups=[];options||(options={}),models=_.isArray(models)?models.slice():[models];for(i=0,length=models.length;i<length;i++){if(!(model=models[i]=this._prepareModel(models[i],options)))throw new Error("Can't add an invalid model to a collection");cid=model.cid,id=model.id;if(cids[cid]||this._byCid[cid]||id!=null&&(ids[id]||this._byId[id])){dups.push(i);continue}cids[cid]=ids[id]=model}i=dups.length;while(i--)models.splice(dups[i],1);for(i=0,length=models.length;i<length;i++)(model=models[i]).on("all",this._onModelEvent,this),this._byCid[model.cid]=model,model.id!=null&&(this._byId[model.id]=model);this.length+=length,index=options.at!=null?options.at:this.models.length,splice.apply(this.models,[index,0].concat(models)),this.comparator&&this.sort({silent:!0});if(options.silent)return this;for(i=0,length=this.models.length;i<length;i++){if(!cids[(model=this.models[i]).cid])continue;options.index=i,model.trigger("add",model,this,options)}return this},remove:function(models,options){var i,l,index,model;options||(options={}),models=_.isArray(models)?models.slice():[models];for(i=0,l=models.length;i<l;i++){model=this.getByCid(models[i])||this.get(models[i]);if(!model)continue;delete this._byId[model.id],delete this._byCid[model.cid],index=this.indexOf(model),this.models.splice(index,1),this.length--,options.silent||(options.index=index,model.trigger("remove",model,this,options)),this._removeReference(model)}return this},push:function(model,options){return model=this._prepareModel(model,options),this.add(model,options),model},pop:function(options){var model=this.at(this.length-1);return this.remove(model,options),model},unshift:function(model,options){return model=this._prepareModel(model,options),this.add(model,_.extend({at:0},options)),model},shift:function(options){var model=this.at(0);return this.remove(model,options),model},get:function(id){return id==null?void 0:this._byId[id.id!=null?id.id:id]},getByCid:function(cid){return cid&&this._byCid[cid.cid||cid]},at:function(index){return this.models[index]},where:function(attrs){return _.isEmpty(attrs)?[]:this.filter(function(model){for(var key in attrs)if(attrs[key]!==model.get(key))return!1;return!0})},sort:function(options){options||(options={});if(!this.comparator)throw new Error("Cannot sort a set without a comparator");var boundComparator=_.bind(this.comparator,this);return this.comparator.length==1?this.models=this.sortBy(boundComparator):this.models.sort(boundComparator),options.silent||this.trigger("reset",this,options),this},pluck:function(attr){return _.map(this.models,function(model){return model.get(attr)})},reset:function(models,options){models||(models=[]),options||(options={});for(var i=0,l=this.models.length;i<l;i++)this._removeReference(this.models[i]);return this._reset(),this.add(models,_.extend({silent:!0},options)),options.silent||this.trigger("reset",this,options),this},fetch:function(options){options=options?_.clone(options):{},options.parse===undefined&&(options.parse=!0);var collection=this,success=options.success;return options.success=function(resp,status,xhr){collection[options.add?"add":"reset"](collection.parse(resp,xhr),options),success&&success(collection,resp)},options.error=Backbone.wrapError(options.error,collection,options),(this.sync||Backbone.sync).call(this,"read",this,options)},create:function(model,options){var coll=this;options=options?_.clone(options):{},model=this._prepareModel(model,options);if(!model)return!1;options.wait||coll.add(model,options);var success=options.success;return options.success=function(nextModel,resp,xhr){options.wait&&coll.add(nextModel,options),success?success(nextModel,resp):nextModel.trigger("sync",model,resp,options)},model.save(null,options),model},parse:function(resp,xhr){return resp},chain:function(){return _(this.models).chain()},_reset:function(options){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(model,options){options||(options={});if(model instanceof Model)model.collection||(model.collection=this);else{var attrs=model;options.collection=this,model=new this.model(attrs,options),model._validate(model.attributes,options)||(model=!1)}return model},_removeReference:function(model){this==model.collection&&delete model.collection,model.off("all",this._onModelEvent,this)},_onModelEvent:function(event,model,collection,options){if((event=="add"||event=="remove")&&collection!=this)return;event=="destroy"&&this.remove(model,options),model&&event==="change:"+model.idAttribute&&(delete this._byId[model.previous(model.idAttribute)],this._byId[model.id]=model),this.trigger.apply(this,arguments)}});var methods=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];_.each(methods,function(method){Collection.prototype[method]=function(){return _[method].apply(_,[this.models].concat(_.toArray(arguments)))}});var Router=Backbone.Router=function(options){options||(options={}),options.routes&&(this.routes=options.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},namedParam=/:\w+/g,splatParam=/\*\w+/g,escapeRegExp=/[-[\]{}()+?.,\\^$|#\s]/g;_.extend(Router.prototype,Events,{initialize:function(){},route:function(route,name,callback){return Backbone.history||(Backbone.history=new History),_.isRegExp(route)||(route=this._routeToRegExp(route)),callback||(callback=this[name]),Backbone.history.route(route,_.bind(function(fragment){var args=this._extractParameters(route,fragment);callback&&callback.apply(this,args),this.trigger.apply(this,["route:"+name].concat(args)),Backbone.history.trigger("route",this,name,args)},this)),this},navigate:function(fragment,options){Backbone.history.navigate(fragment,options)},_bindRoutes:function(){if(!this.routes)return;var routes=[];for(var route in this.routes)routes.unshift([route,this.routes[route]]);for(var i=0,l=routes.length;i<l;i++)this.route(routes[i][0],routes[i][1],this[routes[i][1]])},_routeToRegExp:function(route){return route=route.replace(escapeRegExp,"\\$&").replace(namedParam,"([^/]+)").replace(splatParam,"(.*?)"),new RegExp("^"+route+"$")},_extractParameters:function(route,fragment){return route.exec(fragment).slice(1)}});var History=Backbone.History=function(){this.handlers=[],_.bindAll(this,"checkUrl")},routeStripper=/^[#\/]/,isExplorer=/msie [\w.]+/;History.started=!1,_.extend(History.prototype,Events,{interval:50,getHash:function(windowOverride){var loc=windowOverride?windowOverride.location:window.location,match=loc.href.match(/#(.*)$/);return match?match[1]:""},getFragment:function(fragment,forcePushState){if(fragment==null)if(this._hasPushState||forcePushState){fragment=window.location.pathname;var search=window.location.search;search&&(fragment+=search)}else fragment=this.getHash();return fragment.indexOf(this.options.root)||(fragment=fragment.substr(this.options.root.length)),fragment.replace(routeStripper,"")},start:function(options){if(History.started)throw new Error("Backbone.history has already been started");History.started=!0,this.options=_.extend({},{root:"/"},this.options,options),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var fragment=this.getFragment(),docMode=document.documentMode,oldIE=isExplorer.exec(navigator.userAgent.toLowerCase())&&(!docMode||docMode<=7);oldIE&&(this.iframe=$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(fragment)),this._hasPushState?$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!oldIE?$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=fragment;var loc=window.location,atRoot=loc.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!atRoot)return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&atRoot&&loc.hash&&(this.fragment=this.getHash().replace(routeStripper,""),window.history.replaceState({},document.title,loc.protocol+"//"+loc.host+this.options.root+this.fragment));if(!this.options.silent)return this.loadUrl()},stop:function(){$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),History.started=!1},route:function(route,callback){this.handlers.unshift({route:route,callback:callback})},checkUrl:function(e){var current=this.getFragment();current==this.fragment&&this.iframe&&(current=this.getFragment(this.getHash(this.iframe)));if(current==this.fragment)return!1;this.iframe&&this.navigate(current),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(fragmentOverride){var fragment=this.fragment=this.getFragment(fragmentOverride),matched=_.any(this.handlers,function(handler){if(handler.route.test(fragment))return handler.callback(fragment),!0});return matched},navigate:function(fragment,options){if(!History.started)return!1;if(!options||options===!0)options={trigger:options};var frag=(fragment||"").replace(routeStripper,"");if(this.fragment==frag)return;this._hasPushState?(frag.indexOf(this.options.root)!=0&&(frag=this.options.root+frag),this.fragment=frag,window.history[options.replace?"replaceState":"pushState"]({},document.title,frag)):this._wantsHashChange?(this.fragment=frag,this._updateHash(window.location,frag,options.replace),this.iframe&&frag!=this.getFragment(this.getHash(this.iframe))&&(options.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,frag,options.replace))):window.location.assign(this.options.root+fragment),options.trigger&&this.loadUrl(fragment)},_updateHash:function(location,fragment,replace){replace?location.replace(location.toString().replace(/(javascript:|#).*$/,"")+"#"+fragment):location.hash=fragment}});var View=Backbone.View=function(options){this.cid=_.uniqueId("view"),this._configure(options||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},delegateEventSplitter=/^(\S+)\s*(.*)$/,viewOptions=["model","collection","el","id","attributes","className","tagName"];_.extend(View.prototype,Events,{tagName:"div",$:function(selector){return this.$el.find(selector)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(tagName,attributes,content){var el=document.createElement(tagName);return attributes&&$(el).attr(attributes),content&&$(el).html(content),el},setElement:function(element,delegate){return this.$el&&this.undelegateEvents(),this.$el=element instanceof $?element:$(element),this.el=this.$el[0],delegate!==!1&&this.delegateEvents(),this},delegateEvents:function(events){if(!events&&!(events=getValue(this,"events")))return;this.undelegateEvents();for(var key in events){var method=events[key];_.isFunction(method)||(method=this[events[key]]);if(!method)throw new Error('Method "'+events[key]+'" does not exist');var match=key.match(delegateEventSplitter),eventName=match[1],selector=match[2];method=_.bind(method,this),eventName+=".delegateEvents"+this.cid,selector===""?this.$el.bind(eventName,method):this.$el.delegate(selector,eventName,method)}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(options){this.options&&(options=_.extend({},this.options,options));for(var i=0,l=viewOptions.length;i<l;i++){var attr=viewOptions[i];options[attr]&&(this[attr]=options[attr])}this.options=options},_ensureElement:function(){if(!this.el){var attrs=getValue(this,"attributes")||{};this.id&&(attrs.id=this.id),this.className&&(attrs["class"]=this.className),this.setElement(this.make(this.tagName,attrs),!1)}else this.setElement(this.el,!1)}});var extend=function(protoProps,classProps){var child=inherits(this,protoProps,classProps);return child.extend=this.extend,child};Model.extend=Collection.extend=Router.extend=View.extend=extend;var methodMap={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};Backbone.sync=function(method,model,options){var type=methodMap[method];options||(options={});var params={type:type,dataType:"json"};return options.url||(params.url=getValue(model,"url")||urlError()),!options.data&&model&&(method=="create"||method=="update")&&(params.contentType="application/json",params.data=JSON.stringify(model.toJSON())),Backbone.emulateJSON&&(params.contentType="application/x-www-form-urlencoded",params.data=params.data?{model:params.data}:{}),Backbone.emulateHTTP&&(type==="PUT"||type==="DELETE")&&(Backbone.emulateJSON&&(params.data._method=type),params.type="POST",params.beforeSend=function(xhr){xhr.setRequestHeader("X-HTTP-Method-Override",type)}),params.type!=="GET"&&!Backbone.emulateJSON&&(params.processData=!1),$.ajax(_.extend(params,options))},Backbone.wrapError=function(onError,originalModel,options){return function(model,resp){resp=model===originalModel?resp:model,onError?onError(originalModel,resp,options):originalModel.trigger("error",originalModel,resp,options)}};var ctor=function(){},inherits=function(parent,protoProps,staticProps){var child;return protoProps&&protoProps.hasOwnProperty("constructor")?child=protoProps.constructor:child=function(){parent.apply(this,arguments)},_.extend(child,parent),ctor.prototype=parent.prototype,child.prototype=new ctor,protoProps&&_.extend(child.prototype,protoProps),staticProps&&_.extend(child,staticProps),child.prototype.constructor=child,child.__super__=parent.prototype,child},getValue=function(object,prop){return!object||!object[prop]?null:_.isFunction(object[prop])?object[prop]():object[prop]},urlError=function(){throw new Error('A "url" property or function must be specified')}}.call(this),define("backbone",["underscore","jquery"],function(global){return function(){return global.Backbone}}(this));var buzz={defaults:{autoplay:!1,duration:5e3,formats:[],loop:!1,placeholder:"--",preload:"metadata",volume:80},types:{mp3:"audio/mpeg",ogg:"audio/ogg",wav:"audio/wav",aac:"audio/aac",m4a:"audio/x-m4a"},sounds:[],el:document.createElement("audio"),sound:function(src,options){function timerangeToArray(timeRange){var array=[],length=timeRange.length-1;for(var i=0;i<=length;i++)array.push({start:timeRange.start(length),end:timeRange.end(length)});return array}function getExt(filename){return filename.split(".").pop()}function addSource(sound,src){var source=document.createElement("source");source.src=src,buzz.types[getExt(src)]&&(source.type=buzz.types[getExt(src)]),sound.appendChild(source)}options=options||{};var pid=0,events=[],eventsOnce={},supported=buzz.isSupported();this.load=function(){return supported?(this.sound.load(),this):this},this.play=function(){return supported?(this.sound.play(),this):this},this.togglePlay=function(){return supported?(this.sound.paused?this.sound.play():this.sound.pause(),this):this},this.pause=function(){return supported?(this.sound.pause(),this):this},this.isPaused=function(){return supported?this.sound.paused:null},this.stop=function(){return supported?(this.setTime(this.getDuration()),this.sound.pause(),this):this},this.isEnded=function(){return supported?this.sound.ended:null},this.loop=function(){return supported?(this.sound.loop="loop",this.bind("ended.buzzloop",function(){this.currentTime=0,this.play()}),this):this},this.unloop=function(){return supported?(this.sound.removeAttribute("loop"),this.unbind("ended.buzzloop"),this):this},this.mute=function(){return supported?(this.sound.muted=!0,this):this},this.unmute=function(){return supported?(this.sound.muted=!1,this):this},this.toggleMute=function(){return supported?(this.sound.muted=!this.sound.muted,this):this},this.isMuted=function(){return supported?this.sound.muted:null},this.setVolume=function(volume){return supported?(volume<0&&(volume=0),volume>100&&(volume=100),this.volume=volume,this.sound.volume=volume/100,this):this},this.getVolume=function(){return supported?this.volume:this},this.increaseVolume=function(value){return this.setVolume(this.volume+(value||1))},this.decreaseVolume=function(value){return this.setVolume(this.volume-(value||1))},this.setTime=function(time){return supported?(this.whenReady(function(){this.sound.currentTime=time}),this):this},this.getTime=function(){if(!supported)return null;var time=Math.round(this.sound.currentTime*100)/100;return isNaN(time)?buzz.defaults.placeholder:time},this.setPercent=function(percent){return supported?this.setTime(buzz.fromPercent(percent,this.sound.duration)):this},this.getPercent=function(){if(!supported)return null;var percent=Math.round(buzz.toPercent(this.sound.currentTime,this.sound.duration));return isNaN(percent)?buzz.defaults.placeholder:percent},this.setSpeed=function(duration){if(!supported)return this;this.sound.playbackRate=duration},this.getSpeed=function(){return supported?this.sound.playbackRate:null},this.getDuration=function(){if(!supported)return null;var duration=Math.round(this.sound.duration*100)/100;return isNaN(duration)?buzz.defaults.placeholder:duration},this.getPlayed=function(){return supported?timerangeToArray(this.sound.played):null},this.getBuffered=function(){return supported?timerangeToArray(this.sound.buffered):null},this.getSeekable=function(){return supported?timerangeToArray(this.sound.seekable):null},this.getErrorCode=function(){return supported&&this.sound.error?this.sound.error.code:0},this.getErrorMessage=function(){if(!supported)return null;switch(this.getErrorCode()){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return null}},this.getStateCode=function(){return supported?this.sound.readyState:null},this.getStateMessage=function(){if(!supported)return null;switch(this.getStateCode()){case 0:return"HAVE_NOTHING";case 1:return"HAVE_METADATA";case 2:return"HAVE_CURRENT_DATA";case 3:return"HAVE_FUTURE_DATA";case 4:return"HAVE_ENOUGH_DATA";default:return null}},this.getNetworkStateCode=function(){return supported?this.sound.networkState:null},this.getNetworkStateMessage=function(){if(!supported)return null;switch(this.getNetworkStateCode()){case 0:return"NETWORK_EMPTY";case 1:return"NETWORK_IDLE";case 2:return"NETWORK_LOADING";case 3:return"NETWORK_NO_SOURCE";default:return null}},this.set=function(key,value){return supported?(this.sound[key]=value,this):this},this.get=function(key){return supported?key?this.sound[key]:this.sound:null},this.bind=function(types,func){if(!supported)return this;types=types.split(" ");var that=this,efunc=function(e){func.call(that,e)};for(var t=0;t<types.length;t++){var type=types[t],idx=type;type=idx.split(".")[0],events.push({idx:idx,func:efunc}),this.sound.addEventListener(type,efunc,!0)}return this},this.unbind=function(types){if(!supported)return this;types=types.split(" ");for(var t=0;t<types.length;t++){var idx=types[t],type=idx.split(".")[0];for(var i=0;i<events.length;i++){var namespace=events[i].idx.split(".");if(events[i].idx==idx||namespace[1]&&namespace[1]==idx.replace(".",""))this.sound.removeEventListener(type,events[i].func,!0),delete events[i]}}return this},this.bindOnce=function(type,func){if(!supported)return this;var that=this;eventsOnce[pid++]=!1,this.bind(pid+type,function(){eventsOnce[pid]||(eventsOnce[pid]=!0,func.call(that)),that.unbind(pid+type)})},this.trigger=function(types){if(!supported)return this;types=types.split(" ");for(var t=0;t<types.length;t++){var idx=types[t];for(var i=0;i<events.length;i++){var eventType=events[i].idx.split(".");if(events[i].idx==idx||eventType[0]&&eventType[0]==idx.replace(".","")){var evt=document.createEvent("HTMLEvents");evt.initEvent(eventType[0],!1,!0),this.sound.dispatchEvent(evt)}}}return this},this.fadeTo=function(to,duration,callback){function doFade(){setTimeout(function(){from<to&&that.volume<to?(that.setVolume(that.volume+=1),doFade()):from>to&&that.volume>to?(that.setVolume(that.volume-=1),doFade()):callback instanceof Function&&callback.apply(that)},delay)}if(!supported)return this;duration instanceof Function?(callback=duration,duration=buzz.defaults.duration):duration=duration||buzz.defaults.duration;var from=this.volume,delay=duration/Math.abs(from-to),that=this;return this.play(),this.whenReady(function(){doFade()}),this},this.fadeIn=function(duration,callback){return supported?this.setVolume(0).fadeTo(100,duration,callback):this},this.fadeOut=function(duration,callback){return supported?this.fadeTo(0,duration,callback):this},this.fadeWith=function(sound,duration){return supported?(this.fadeOut(duration,function(){this.stop()}),sound.play().fadeIn(duration),this):this},this.whenReady=function(func){if(!supported)return null;var that=this;this.sound.readyState===0?this.bind("canplay.buzzwhenready",function(){func.call(that)}):func.call(that)};if(supported){for(var i in buzz.defaults)buzz.defaults.hasOwnProperty(i)&&(options[i]=options[i]||buzz.defaults[i]);this.sound=document.createElement("audio");if(src instanceof Array)for(var j in src)src.hasOwnProperty(j)&&addSource(this.sound,src[j]);else if(options.formats.length)for(var k in options.formats)options.formats.hasOwnProperty(k)&&addSource(this.sound,src+"."+options.formats[k]);else addSource(this.sound,src);options.loop&&this.loop(),options.autoplay&&(this.sound.autoplay="autoplay"),options.preload===!0?this.sound.preload="auto":options.preload===!1?this.sound.preload="none":this.sound.preload=options.preload,this.setVolume(options.volume),buzz.sounds.push(this)}},group:function(sounds){function fn(){var args=argsToArray(null,arguments),func=args.shift();for(var i=0;i<sounds.length;i++)sounds[i][func].apply(sounds[i],args)}function argsToArray(array,args){return array instanceof Array?array:Array.prototype.slice.call(args)}sounds=argsToArray(sounds,arguments),this.getSounds=function(){return sounds},this.add=function(soundArray){soundArray=argsToArray(soundArray,arguments);for(var a=0;a<soundArray.length;a++)sounds.push(soundArray[a])},this.remove=function(soundArray){soundArray=argsToArray(soundArray,arguments);for(var a=0;a<soundArray.length;a++)for(var i=0;i<sounds.length;i++)if(sounds[i]==soundArray[a]){delete sounds[i];break}},this.load=function(){return fn("load"),this},this.play=function(){return fn("play"),this},this.togglePlay=function(){return fn("togglePlay"),this},this.pause=function(time){return fn("pause",time),this},this.stop=function(){return fn("stop"),this},this.mute=function(){return fn("mute"),this},this.unmute=function(){return fn("unmute"),this},this.toggleMute=function(){return fn("toggleMute"),this},this.setVolume=function(volume){return fn("setVolume",volume),this},this.increaseVolume=function(value){return fn("increaseVolume",value),this},this.decreaseVolume=function(value){return fn("decreaseVolume",value),this},this.loop=function(){return fn("loop"),this},this.unloop=function(){return fn("unloop"),this},this.setTime=function(time){return fn("setTime",time),this},this.setduration=function(duration){return fn("setduration",duration),this},this.set=function(key,value){return fn("set",key,value),this},this.bind=function(type,func){return fn("bind",type,func),this},this.unbind=function(type){return fn("unbind",type),this},this.bindOnce=function(type,func){return fn("bindOnce",type,func),this},this.trigger=function(type){return fn("trigger",type),this},this.fade=function(from,to,duration,callback){return fn("fade",from,to,duration,callback),this},this.fadeIn=function(duration,callback){return fn("fadeIn",duration,callback),this},this.fadeOut=function(duration,callback){return fn("fadeOut",duration,callback),this}},all:function(){return new buzz.group(buzz.sounds)},isSupported:function(){return!!buzz.el.canPlayType},isOGGSupported:function(){return!!buzz.el.canPlayType&&buzz.el.canPlayType('audio/ogg; codecs="vorbis"')},isWAVSupported:function(){return!!buzz.el.canPlayType&&buzz.el.canPlayType('audio/wav; codecs="1"')},isMP3Supported:function(){return!!buzz.el.canPlayType&&buzz.el.canPlayType("audio/mpeg;")},isAACSupported:function(){return!!buzz.el.canPlayType&&(buzz.el.canPlayType("audio/x-m4a;")||buzz.el.canPlayType("audio/aac;"))},toTimer:function(time,withHours){var h,m,s;return h=Math.floor(time/3600),h=isNaN(h)?"--":h>=10?h:"0"+h,m=withHours?Math.floor(time/60%60):Math.floor(time/60),m=isNaN(m)?"--":m>=10?m:"0"+m,s=Math.floor(time%60),s=isNaN(s)?"--":s>=10?s:"0"+s,withHours?h+":"+m+":"+s:m+":"+s},fromTimer:function(time){var splits=time.toString().split(":");return splits&&splits.length==3&&(time=parseInt(splits[0],10)*3600+parseInt(splits[1],10)*60+parseInt(splits[2],10)),splits&&splits.length==2&&(time=parseInt(splits[0],10)*60+parseInt(splits[1],10)),time},toPercent:function(value,total,decimal){var r=Math.pow(10,decimal||0);return Math.round(value*100/total*r)/r},fromPercent:function(percent,total,decimal){var r=Math.pow(10,decimal||0);return Math.round(total/100*percent*r)/r}};define("buzz",function(global){return function(){return global.buzz}}(this)),function(){define("cs!utilities/env",[],function(){var agent,android,bb10,desktop,ios,mobile;return agent=navigator.userAgent.toLowerCase(),android=agent.match(/android/i),android=(android!=null?android.length:void 0)>0,ios=agent.match(/ip(hone|od|ad)/i),ios=(ios!=null?ios.length:void 0)>0,bb10=agent.match(/BB10/i),bb10=(bb10!=null?bb10.length:void 0)>0,mobile=android||ios||bb10,desktop=!mobile,{android:android,ios:ios,bb10:bb10,mobile:mobile,desktop:desktop,cordova:typeof cordova!="undefined"}})}.call(this),function(){var __hasProp=Object.prototype.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};define("cs!views/common/scene",["jquery","backbone","cs!utilities/env"],function($,Backbone,env){var Scene;return Scene=function(_super){function Scene(){Scene.__super__.constructor.apply(this,arguments)}return __extends(Scene,_super),Scene.prototype.render=function(){return this.$el.append(this.elem)},Scene.prototype.preventDefault=function(e){return e.preventDefault()},Scene.prototype.hide=function(duration,callback){var _this=this;return duration==null&&(duration=500),this.undelegateEvents(),this.elem.addClass("out"),_.delay(function(){_this.elem.removeClass("in"),_this.elem.removeClass("out");if(typeof callback=="function")return callback()},duration)},Scene.prototype.show=function(duration,callback){duration==null&&(duration=500),this.delegateEvents(),this.elem.addClass("in");if(typeof callback=="function")return _.delay(callback,duration)},Scene}(Backbone.View)})}.call(this),define("text",{load:function(id){throw new Error("Dynamic load not allowed: "+id)}}),define("text!templates/title.html",[],function(){return'<div id="title" class="scene">\n	<div class="container">\n		<h1>Shikaku Madness</h1>\n\n		<nav>\n			<button class="start">Start</button>\n			<button class="tutorial">Tutorial</button>\n			<button class="about">About</button>\n		</nav>\n\n		<p class="copyright">&copy; 2012 Ganbaru Games</p>\n	</div>\n</div>'}),function(){var __hasProp=Object.prototype.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};define("cs!views/title",["jquery","backbone","cs!utilities/env","cs!views/common/scene","text!templates/title.html"],function($,Backbone,env,Scene,template){var TitleScene;return TitleScene=function(_super){function TitleScene(){TitleScene.__super__.constructor.apply(this,arguments)}return __extends(TitleScene,_super),TitleScene.prototype.events=function(){var events;return env.mobile?events={"touchstart .start":"start","touchstart .tutorial":"tutorial","touchstart .about":"about"}:events={"click .start":"start","click .tutorial":"tutorial","click .about":"about"}},TitleScene.prototype.initialize=function(){return this.elem=$(template),this.render()},TitleScene.prototype.start=function(e){return e.preventDefault(),this.undelegateEvents(),this.trigger("sfx:play","button"),this.trigger("scene:change","difficulty")},TitleScene.prototype.tutorial=function(e){return e.preventDefault(),this.undelegateEvents(),this.trigger("sfx:play","button"),this.trigger("scene:change","game",{difficulty:"beginner",level:0,tutorial:!0})},TitleScene.prototype.about=function(e){return e.preventDefault(),this.undelegateEvents(),this.trigger("sfx:play","button"),this.trigger("scene:change","about")},TitleScene}(Scene)})}.call(this),define("data/levels",[],function(){return{beginner:[{squares:[[7,9,3,3],[9,6,1,7],[7,6,2,5],[5,1,4,2],[5,4,2,3],[3,8,4,4],[0,9,7,1],[0,8,2,6],[2,8,1,6],[2,2,3,3],[0,2,2,3],[3,4,2,2]],difficulty:"beginner",clues:[[2,7,6],[5,3,6],[1,1,6],[0,9,7],[0,8,12],[7,6,10],[9,9,9],[6,6,16],[9,3,7],[7,1,8],[4,3,4],[3,1,9]]},{squares:[[0,9,3,4],[1,5,3,4],[5,5,5,1],[5,4,5,2],[4,8,1,7],[5,8,3,3],[0,1,7,2],[7,2,3,3],[5,2,2,1],[0,5,1,4],[3,9,7,1],[8,8,2,3],[3,8,1,3]],difficulty:"beginner",clues:[[9,0,9],[9,5,5],[3,9,7],[2,9,12],[3,8,3],[4,8,7],[8,8,6],[7,8,9],[5,3,10],[5,2,2],[5,1,14],[0,5,4],[1,5,12]]},{squares:[[1,6,3,3],[1,3,4,2],[4,6,2,3],[4,8,2,2],[2,9,7,1],[9,9,1,8],[6,8,1,7],[7,8,2,4],[0,9,2,2],[2,8,2,2],[0,7,2,1],[0,6,1,7],[5,3,1,4],[6,1,4,2],[7,4,2,3],[3,1,2,2],[1,1,2,2]],difficulty:"beginner",clues:[[0,8,4],[1,7,2],[0,5,7],[3,7,4],[5,7,4],[8,7,8],[7,3,6],[6,2,7],[3,3,8],[2,1,4],[3,1,4],[8,9,7],[9,9,8],[9,1,8],[5,2,4],[3,4,9],[4,4,6]]},{squares:[[3,9,2,4],[6,9,3,3],[5,9,1,4],[6,6,3,1],[9,9,1,6],[5,5,4,2],[7,3,3,3],[0,0,10,1],[0,9,2,6],[2,9,1,9],[0,3,2,3],[3,5,2,3],[5,3,2,3],[3,2,2,2]],difficulty:"beginner",clues:[[3,7,8],[5,7,4],[7,4,8],[6,2,6],[4,2,4],[3,4,6],[0,2,6],[7,0,10],[8,2,9],[9,4,6],[8,6,3],[7,8,9],[2,9,9],[1,8,12]]},{squares:[[0,9,3,3],[1,5,3,2],[0,6,7,1],[4,9,4,3],[3,9,1,3],[8,9,2,3],[7,6,3,1],[8,5,2,3],[4,5,4,3],[0,5,1,6],[1,3,3,1],[1,2,3,3],[6,2,3,3],[9,2,1,3],[4,2,2,3]],difficulty:"beginner",clues:[[3,7,3],[8,6,3],[9,8,6],[9,3,6],[2,3,3],[2,0,9],[7,1,9],[0,1,6],[4,1,6],[7,3,12],[9,2,3],[5,6,7],[0,9,9],[5,9,12],[2,4,6]]},{squares:[[0,9,2,5],[0,4,1,5],[1,0,7,1],[1,1,4,1],[1,2,5,1],[3,9,1,5],[5,9,1,5],[8,9,1,5],[2,9,1,7],[4,9,1,6],[3,4,1,2],[1,4,1,2],[4,3,2,1],[5,4,5,1],[6,3,4,2],[5,1,3,1],[8,1,2,2],[6,9,2,5],[9,9,1,3],[9,6,1,2]],difficulty:"beginner",clues:[[0,6,10],[0,3,5],[1,4,2],[2,2,5],[3,1,4],[3,0,7],[3,4,2],[2,4,7],[3,6,5],[4,6,6],[5,3,2],[6,1,3],[9,1,4],[8,2,8],[8,4,5],[8,6,5],[9,5,2],[9,7,3],[6,7,10],[5,6,5]]},{squares:[[0,9,3,3],[8,9,2,2],[3,8,2,5],[3,9,5,1],[0,3,3,4],[0,6,3,3],[3,2,2,3],[3,3,4,1],[5,7,3,2],[5,5,5,2],[6,2,4,3],[5,2,1,3],[7,3,3,1],[8,7,2,2],[5,8,3,1]],difficulty:"beginner",clues:[[3,6,10],[3,2,6],[5,1,3],[7,1,12],[8,3,3],[7,4,10],[7,7,6],[8,6,4],[7,8,3],[6,9,5],[0,9,9],[0,4,9],[0,3,12],[3,3,4],[9,9,4]]},{squares:[[0,4,5,5],[5,4,5,5],[2,7,4,3],[6,7,4,3],[6,9,4,2],[0,9,6,2],[0,7,2,3]],difficulty:"beginner",clues:[[8,6,12],[0,6,6],[4,0,25],[5,0,25],[5,9,12],[4,6,12],[6,8,8]]},{squares:[[1,8,3,3],[2,5,4,2],[4,9,3,4],[6,5,3,4],[0,3,5,2],[0,5,2,2],[0,9,1,4],[1,9,3,1],[5,3,1,4],[2,1,3,2],[0,1,2,2],[6,1,4,2],[9,9,1,8],[7,9,2,4]],difficulty:"beginner",clues:[[0,8,4],[4,7,12],[8,7,8],[9,7,8],[4,4,8],[1,3,10],[6,1,8],[6,5,12],[1,8,9],[1,9,3],[1,4,4],[1,1,4],[2,1,6],[5,3,4]]},{squares:[[2,6,2,2],[4,8,1,3],[5,7,2,2],[4,5,1,4],[5,4,2,2],[3,4,1,2],[2,4,1,5],[3,2,1,3],[4,1,4,2],[7,4,3,1],[8,3,2,3],[7,3,1,2],[5,2,2,1],[7,8,3,3],[1,8,1,5],[1,3,1,4],[0,9,5,1],[2,8,2,2],[5,9,5,1],[5,8,2,1],[5,5,5,1],[8,0,2,1],[0,8,1,4],[0,4,1,5]],difficulty:"beginner",clues:[[2,9,5],[8,9,5],[8,7,9],[5,8,2],[5,7,4],[4,7,3],[3,8,4],[1,7,5],[0,6,4],[0,3,5],[1,2,4],[2,3,5],[3,6,4],[3,4,2],[3,1,3],[4,3,4],[5,3,4],[6,5,5],[8,4,3],[7,3,2],[6,2,2],[6,0,8],[9,2,6],[9,0,2]]},{squares:[[8,6,1,7],[9,6,1,7],[5,5,3,3],[5,2,2,3],[7,2,1,3],[0,2,3,3],[0,9,3,3],[0,6,4,2],[0,4,4,2],[3,2,1,3],[3,8,2,2],[4,6,1,7],[7,9,3,3],[5,6,3,1],[3,9,4,1],[5,8,2,2]],difficulty:"beginner",clues:[[7,0,3],[6,0,6],[8,6,7],[9,6,7],[7,5,9],[4,6,7],[0,9,9],[0,2,9],[3,2,3],[0,3,8],[3,6,8],[9,9,9],[7,6,3],[4,9,4],[4,8,4],[5,8,4]]},{squares:[[0,9,1,10],[1,0,9,1],[7,3,3,3],[1,5,3,5],[1,8,3,3],[1,9,9,1],[4,8,4,4],[8,8,2,5],[4,4,4,1],[4,3,3,3]],difficulty:"beginner",clues:[[0,4,10],[9,1,9],[1,9,9],[1,8,9],[1,0,9],[1,1,15],[4,4,4],[4,3,9],[8,7,10],[7,7,16]]},{squares:[[3,6,3,2],[3,4,5,2],[6,8,2,4],[0,9,4,3],[4,9,6,1],[4,8,2,2],[8,8,2,3],[8,5,1,6],[9,5,1,3],[9,2,1,3],[5,2,3,3],[4,2,1,3],[2,2,2,3],[0,4,2,5],[0,6,3,2],[2,4,1,2]],difficulty:"beginner",clues:[[7,7,8],[9,7,6],[9,5,3],[8,4,6],[9,1,3],[2,1,6],[2,4,2],[4,6,6],[1,6,6],[0,7,12],[5,8,4],[5,9,6],[5,2,9],[4,2,3],[5,3,10],[1,4,10]]},{squares:[[0,9,2,3],[0,6,3,3],[0,3,1,4],[7,2,3,3],[4,5,6,3],[7,9,3,4],[5,7,2,2],[5,9,2,2],[4,9,1,4],[6,2,1,3],[4,2,2,1],[4,1,2,2],[3,9,1,10],[1,3,2,2],[1,1,2,2],[2,9,1,3]],difficulty:"beginner",clues:[[1,9,6],[2,8,3],[4,8,4],[6,7,4],[8,8,12],[2,2,4],[1,0,4],[5,0,4],[5,2,2],[9,0,9],[6,0,3],[0,0,4],[3,4,10],[0,6,9],[6,8,4],[4,4,18]]},{squares:[[0,9,1,5],[1,9,1,7],[2,9,1,4],[0,2,4,3],[0,4,1,2],[2,5,2,3],[4,3,3,2],[4,1,3,1],[4,0,6,1],[7,5,1,5],[8,7,2,7],[7,9,3,2],[3,9,4,2],[3,7,5,2],[4,5,3,2]],difficulty:"beginner",clues:[[0,7,5],[2,8,4],[4,9,8],[4,7,10],[0,3,2],[1,1,12],[5,1,3],[8,8,6],[1,9,7],[9,7,14],[7,5,5],[8,0,6],[4,4,6],[2,3,6],[4,3,6]]},{squares:[[0,9,1,10],[7,9,3,3],[7,2,3,3],[4,9,3,5],[1,9,2,5],[1,4,2,5],[3,9,1,8],[3,1,3,2],[6,4,1,5],[4,4,2,3],[7,6,3,4]],difficulty:"beginner",clues:[[0,6,10],[4,1,6],[5,2,6],[6,4,5],[8,5,12],[1,2,10],[1,8,10],[3,7,8],[5,9,15],[9,0,9],[9,9,9]]},{squares:[[0,9,3,3],[0,6,4,3],[0,3,3,4],[3,3,3,2],[4,7,2,4],[3,9,1,3],[4,9,2,2],[7,9,3,3],[3,1,3,2],[6,9,1,8],[7,2,3,3],[6,1,1,2],[7,6,2,4],[9,6,1,4]],difficulty:"beginner",clues:[[9,9,9],[0,0,12],[2,5,12],[1,8,9],[7,0,9],[7,5,8],[9,4,4],[5,9,4],[4,6,8],[3,9,3],[4,2,6],[4,1,6],[6,2,8],[6,1,2]]},{squares:[[0,9,3,3],[0,1,2,2],[0,6,4,3],[2,3,2,4],[0,3,2,2],[3,9,3,3],[6,9,2,3],[4,6,2,2],[4,4,3,3],[8,9,2,4],[6,6,2,2],[8,5,2,4],[5,1,5,2],[4,1,1,2],[7,4,1,3]],difficulty:"beginner",clues:[[6,5,4],[5,3,9],[7,3,3],[4,0,2],[0,9,9],[5,9,9],[6,9,6],[5,6,4],[8,6,8],[9,5,8],[8,1,10],[1,1,4],[0,2,4],[3,3,8],[2,4,12]]},{squares:[[0,9,3,3],[0,6,2,2],[0,4,2,2],[2,6,2,4],[0,2,4,3],[3,9,4,3],[4,6,2,7],[7,9,3,3],[8,6,2,3],[6,6,2,5],[8,1,2,2],[8,3,2,2],[6,1,2,2]],difficulty:"beginner",clues:[[0,6,4],[8,8,9],[7,5,10],[8,2,4],[9,0,4],[7,0,4],[2,1,12],[0,4,4],[0,9,9],[8,6,6],[6,8,12],[2,6,8],[4,4,14]]},{squares:[[0,9,1,4],[1,9,6,1],[1,8,1,6],[0,1,3,2],[0,5,1,4],[1,2,7,1],[3,1,7,1],[8,7,2,6],[7,9,3,2],[2,8,5,2],[7,7,1,5],[3,0,7,1],[4,5,3,3],[2,6,5,1],[2,5,2,3]],difficulty:"beginner",clues:[[0,8,4],[1,7,6],[3,8,10],[3,6,5],[0,4,4],[1,1,6],[3,4,6],[5,4,9],[5,1,7],[5,0,7],[7,3,5],[8,9,6],[5,2,7],[8,2,12],[1,9,6]]},{squares:[[1,9,3,5],[2,4,3,3],[4,7,3,3],[7,9,3,2],[5,9,2,2],[4,9,1,2],[7,7,2,4],[9,7,1,5],[5,4,2,4],[7,3,2,3],[9,2,1,3],[3,0,6,1],[0,1,5,1],[0,0,3,1],[0,9,1,8],[1,4,1,3]],difficulty:"beginner",clues:[[6,8,4],[4,9,2],[3,3,9],[1,2,3],[3,1,5],[0,7,8],[1,7,15],[1,0,3],[3,0,6],[6,5,9],[6,4,8],[7,5,8],[9,8,6],[9,3,5],[7,3,6],[9,2,3]]},{squares:[[7,2,3,3],[3,0,4,1],[6,3,1,3],[3,3,3,3],[0,4,3,5],[0,7,6,3],[3,4,7,1],[7,3,3,1],[6,8,4,4],[0,9,10,1],[0,8,6,1]],difficulty:"beginner",clues:[[9,0,9],[6,0,4],[6,1,3],[2,2,15],[4,2,9],[7,3,3],[9,4,7],[9,5,16],[0,9,10],[0,8,6],[0,7,18]]},{squares:[[3,8,2,4],[0,4,10,1],[1,3,2,4],[0,3,1,4],[3,3,7,1],[3,2,1,3],[4,2,2,3],[6,2,4,3],[5,7,2,3],[0,9,10,1],[7,8,3,4],[5,8,2,1],[0,7,3,2],[0,8,3,1],[0,5,3,1]],difficulty:"beginner",clues:[[1,8,3],[1,6,6],[1,5,3],[4,6,8],[5,8,2],[5,6,6],[8,7,12],[7,4,10],[7,3,7],[7,1,12],[4,1,6],[3,1,3],[2,2,8],[0,2,4],[1,9,10]]},{squares:[[1,6,3,3],[2,9,2,3],[0,9,1,8],[1,9,1,3],[1,3,5,4],[0,1,1,2],[4,9,3,6],[7,9,3,2],[7,7,3,4],[6,2,2,2],[6,3,4,1],[8,2,2,3],[6,0,2,1]],difficulty:"beginner",clues:[[0,0,2],[8,8,6],[7,3,4],[6,0,2],[9,1,6],[1,9,3],[2,4,9],[1,0,20],[9,4,12],[7,1,4],[0,9,8],[3,7,6],[4,7,18]]},{squares:[[0,3,4,4],[0,6,7,3],[0,9,3,3],[3,9,7,1],[3,8,7,2],[7,6,3,3],[4,3,2,3],[4,0,6,1],[7,3,3,2],[6,1,4,1],[6,3,1,2]],difficulty:"beginner",clues:[[4,9,7],[4,8,14],[2,5,21],[8,5,9],[8,2,6],[6,1,4],[6,0,6],[3,0,16],[6,2,2],[4,1,6],[0,9,9]]},{squares:[[2,7,2,3],[0,9,2,3],[2,9,4,2],[0,6,2,4],[4,7,2,2],[4,5,2,2],[2,4,2,2],[0,2,3,3],[3,2,3,3],[4,3,5,1],[6,2,1,3],[7,2,3,3],[6,6,2,3],[7,9,3,3],[6,9,1,3],[9,6,1,4],[8,6,1,3]],difficulty:"beginner",clues:[[1,8,6],[4,9,8],[3,6,6],[5,7,4],[4,4,4],[3,3,4],[2,1,9],[5,0,9],[6,1,3],[8,4,3],[9,4,4],[7,6,6],[8,8,9],[6,8,3],[9,0,9],[5,3,5],[1,3,8]]},{squares:[[0,8,3,3],[1,5,3,3],[4,3,3,2],[2,1,3,2],[5,1,4,2],[7,4,3,3],[4,6,3,3],[8,7,2,3],[7,9,1,5],[8,9,2,2],[4,9,3,3],[3,9,1,4],[0,9,3,1],[0,5,1,6],[1,1,1,2],[1,2,3,1],[9,1,1,2]],difficulty:"beginner",clues:[[8,8,4],[8,7,6],[7,9,5],[2,9,3],[3,9,4],[4,9,9],[0,8,9],[1,1,2],[1,2,3],[1,3,9],[0,2,6],[4,2,6],[4,4,9],[5,1,8],[9,1,2],[8,3,9],[3,0,6]]},{squares:[[0,9,3,4],[3,8,2,6],[3,9,7,1],[5,8,2,3],[7,8,3,4],[7,4,3,2],[7,2,3,3],[5,5,2,6],[3,2,2,3],[0,3,3,3],[0,0,3,1],[0,5,3,2]],difficulty:"beginner",clues:[[5,9,7],[5,7,6],[8,3,6],[2,0,3],[5,4,12],[9,0,9],[9,6,12],[0,9,12],[3,7,12],[3,2,6],[1,5,6],[1,2,9]]},{squares:[[2,6,3,3],[5,9,3,3],[7,6,3,2],[5,6,2,5],[0,3,5,2],[0,1,3,2],[0,9,3,3],[0,6,2,3],[3,8,2,2],[9,9,1,3],[8,9,1,3],[3,1,7,2],[7,4,3,3],[3,9,2,1]],difficulty:"beginner",clues:[[3,7,4],[4,9,2],[8,7,3],[9,9,3],[8,6,6],[2,0,6],[3,0,14],[3,2,10],[7,4,9],[6,4,10],[3,4,9],[0,6,6],[0,7,9],[5,9,9]]},{squares:[[0,9,2,3],[2,9,3,3],[2,6,1,7],[0,6,2,7],[3,6,7,1],[6,5,2,6],[3,5,3,6],[8,2,2,3],[8,5,2,3],[5,9,5,3]],difficulty:"beginner",clues:[[2,9,9],[1,3,14],[2,3,7],[3,3,18],[1,9,6],[9,6,7],[9,5,6],[9,7,15],[7,2,12],[8,2,6]]}],easy:[{squares:[[3,9,2,4],[2,5,5,2],[7,5,2,3],[7,2,3,3],[4,3,3,4],[9,9,1,7],[7,8,2,3],[5,9,4,1],[5,8,2,3],[0,7,3,2],[0,9,3,2],[0,5,2,3],[0,2,3,3],[2,3,2,1],[3,2,1,3]],difficulty:"easy",clues:[[1,8,6],[3,8,8],[6,9,4],[7,7,6],[9,8,7],[8,4,6],[5,4,10],[1,7,6],[1,4,6],[3,3,2],[3,2,3],[5,2,12],[6,7,6],[9,0,9],[0,0,9]]},{squares:[[0,9,5,1],[0,8,4,1],[1,7,2,2],[0,7,1,5],[1,5,3,4],[3,7,3,2],[4,8,4,1],[5,9,5,1],[8,8,2,5],[6,7,2,3],[4,5,2,4],[0,2,1,3],[1,1,6,2],[7,2,3,3],[6,4,1,3],[7,4,1,2],[8,3,2,1]],difficulty:"easy",clues:[[2,8,4],[4,7,6],[2,7,4],[0,5,5],[2,0,12],[4,3,8],[0,1,3],[7,6,6],[1,9,5],[5,8,4],[8,9,5],[8,7,10],[7,4,2],[6,3,3],[9,3,2],[9,0,9],[2,5,12]]},{squares:[[4,7,1,7],[5,7,4,1],[5,6,2,2],[5,4,1,3],[6,3,1,2],[6,4,3,1],[7,6,3,2],[9,9,1,3],[5,9,4,2],[4,9,1,2],[0,9,4,1],[3,8,1,6],[0,8,3,1],[0,7,3,5],[1,2,2,3],[0,2,1,3],[3,2,1,3],[4,0,6,1],[5,1,5,1],[7,2,3,1],[9,4,1,2],[7,3,2,1]],difficulty:"easy",clues:[[9,0,6],[8,1,5],[8,2,3],[8,3,2],[8,4,3],[9,4,2],[9,6,6],[9,8,3],[7,7,4],[7,8,8],[5,6,4],[6,2,2],[5,3,3],[3,1,3],[0,1,3],[1,4,15],[3,4,6],[4,5,7],[4,8,2],[2,8,3],[3,9,4],[1,2,6]]},{squares:[[0,9,1,6],[0,3,5,3],[0,0,10,1],[7,2,3,2],[3,9,7,1],[1,9,2,3],[1,6,5,1],[3,8,4,2],[7,8,3,3],[8,5,2,3],[6,6,1,5],[7,5,1,3],[1,5,5,2],[5,1,2,1],[5,3,1,2]],difficulty:"easy",clues:[[0,7,6],[2,8,6],[6,7,8],[4,6,5],[4,4,10],[5,3,2],[8,1,6],[3,1,15],[9,0,10],[6,1,2],[9,3,6],[7,3,3],[9,8,9],[9,9,7],[6,6,5]]},{squares:[[0,9,4,4],[0,5,4,2],[0,3,4,4],[4,9,5,3],[4,6,4,3],[9,9,1,7],[8,6,1,4],[7,2,3,3],[4,3,4,1],[4,2,3,3]],difficulty:"easy",clues:[[2,7,16],[5,7,15],[5,4,12],[3,5,8],[3,2,16],[5,3,4],[5,1,9],[9,1,9],[8,4,4],[9,6,7]]},{squares:[[0,9,4,4],[4,5,4,4],[8,1,2,2],[0,2,3,3],[7,9,3,3],[1,5,3,3],[3,2,1,3],[4,1,4,2],[8,6,2,3],[8,3,2,2],[4,6,4,1],[4,9,3,3],[0,5,1,3]],difficulty:"easy",clues:[[0,0,9],[7,1,8],[8,2,4],[8,1,4],[7,2,16],[7,6,4],[7,7,9],[6,7,9],[8,6,6],[0,3,3],[3,2,3],[3,6,16],[3,5,9]]},{squares:[[1,8,3,4],[0,9,7,1],[4,8,3,3],[7,9,3,4],[0,8,1,9],[1,3,3,4],[1,4,6,1],[4,5,6,1],[4,3,3,3],[4,0,6,1],[7,4,3,4]],difficulty:"easy",clues:[[5,7,9],[5,9,7],[8,8,12],[0,5,9],[5,5,6],[2,1,12],[8,0,6],[2,4,6],[1,7,12],[4,2,9],[7,1,12]]},{squares:[[7,2,3,3],[4,3,6,1],[1,3,3,3],[5,2,2,2],[2,0,5,1],[4,2,1,2],[0,0,2,1],[0,5,1,5],[1,5,5,2],[7,5,3,2],[8,9,2,4],[7,9,1,4],[6,8,1,5],[0,9,7,1],[4,8,2,3],[0,8,3,3],[3,8,1,3]],difficulty:"easy",clues:[[9,0,9],[4,2,2],[5,2,4],[6,3,6],[6,6,5],[1,7,9],[3,4,10],[0,3,5],[2,0,5],[1,0,2],[1,3,9],[9,5,6],[9,6,8],[7,9,4],[6,9,7],[4,8,6],[3,8,3]]},{squares:[[1,8,2,2],[0,6,4,3],[0,9,1,3],[1,9,9,1],[3,8,5,2],[8,8,2,4],[4,6,4,3],[2,3,4,3],[0,3,2,4],[2,0,8,1],[8,4,2,4],[6,3,2,3]],difficulty:"easy",clues:[[0,8,3],[1,7,4],[6,5,12],[4,2,12],[9,9,9],[9,7,8],[9,4,8],[6,7,10],[1,5,12],[4,0,8],[6,1,6],[1,0,8]]},{squares:[[0,9,1,10],[1,0,9,1],[1,9,3,3],[1,6,3,2],[1,4,3,2],[1,2,5,2],[4,6,2,4],[4,9,3,2],[4,7,6,1],[7,9,3,2],[8,6,2,3],[6,3,3,3],[6,6,2,3],[9,3,1,3]],difficulty:"easy",clues:[[0,6,10],[3,5,6],[5,4,8],[8,5,6],[1,9,9],[6,7,6],[7,4,6],[9,0,9],[8,1,9],[5,8,6],[8,8,6],[9,3,3],[3,1,10],[1,3,6]]},{squares:[[0,9,2,5],[2,8,2,5],[0,1,3,2],[0,4,2,1],[0,3,4,2],[3,1,3,2],[4,4,3,3],[6,1,2,2],[8,6,2,7],[7,8,1,7],[2,9,8,1],[8,8,2,1],[8,7,2,1],[4,5,3,1],[4,7,3,2],[4,8,3,1]],difficulty:"easy",clues:[[1,0,6],[4,0,6],[5,3,9],[5,5,3],[6,6,6],[6,8,3],[7,9,8],[7,8,7],[9,8,2],[9,5,14],[7,0,4],[8,7,2],[0,9,10],[0,4,2],[2,3,8],[2,4,10]]},{squares:[[7,2,3,3],[0,2,7,3],[0,5,4,3],[7,4,3,2],[7,9,3,5],[4,7,3,5],[0,9,7,2],[0,7,4,2]],difficulty:"easy",clues:[[4,8,14],[9,8,15],[8,4,6],[4,2,21],[2,7,8],[5,3,15],[2,3,12],[9,0,9]]},{squares:[[2,8,2,3],[4,8,1,6],[4,2,1,3],[5,6,1,5],[7,8,1,5],[8,8,1,5],[7,1,1,2],[8,3,1,4],[7,3,1,2],[6,2,1,3],[5,1,1,2],[9,7,1,5],[9,2,1,3],[9,9,1,2],[4,9,5,1],[5,8,2,1],[5,7,2,1],[6,6,1,4],[0,9,4,1],[0,7,1,5],[0,8,2,1],[2,5,2,3],[1,7,1,6],[0,2,1,3],[1,1,3,2],[2,2,2,1]],difficulty:"easy",clues:[[2,9,4],[1,8,2],[0,6,5],[1,4,6],[3,7,6],[0,1,3],[3,0,6],[3,2,2],[4,4,6],[4,1,3],[5,4,5],[6,8,2],[7,9,5],[6,7,2],[9,8,2],[9,5,5],[8,2,4],[8,4,5],[7,2,2],[6,1,3],[5,1,2],[6,3,4],[7,1,2],[9,1,3],[7,7,5],[2,5,6]]},{squares:[[0,9,3,4],[0,5,10,1],[0,1,10,1],[2,4,4,3],[7,4,3,3],[6,4,1,3],[0,4,2,2],[0,2,2,1],[0,0,4,1],[4,0,6,1],[3,7,2,2],[5,7,5,2],[7,9,3,2],[3,9,4,2]],difficulty:"easy",clues:[[1,7,12],[4,8,8],[7,7,10],[9,9,6],[6,5,10],[6,3,3],[8,3,9],[3,3,12],[1,3,4],[0,2,2],[2,1,10],[2,0,4],[5,0,6],[4,6,4]]},{squares:[[0,3,5,4],[2,6,3,3],[0,9,3,3],[0,6,2,3],[7,9,3,3],[7,5,3,3],[8,2,2,3],[5,2,3,3],[5,6,2,4],[3,9,4,3],[7,6,3,1]],difficulty:"easy",clues:[[1,8,9],[8,4,9],[8,6,3],[9,9,9],[1,6,6],[6,6,8],[5,7,12],[0,0,20],[2,6,9],[8,0,6],[7,0,9]]},{squares:[[0,9,4,4],[0,4,4,2],[0,5,6,1],[4,9,3,4],[4,3,2,2],[4,4,4,1],[0,2,4,3],[4,1,6,2],[6,3,4,2],[6,5,4,1],[8,4,2,1],[7,9,3,3],[7,6,3,1]],difficulty:"easy",clues:[[3,8,16],[6,7,12],[8,8,9],[7,6,3],[7,5,4],[4,5,6],[5,4,4],[8,4,2],[7,3,8],[5,2,4],[3,4,8],[2,1,12],[5,0,12]]},{squares:[[0,9,1,6],[1,9,3,6],[0,2,3,3],[0,3,10,1],[3,2,7,3],[4,6,4,3],[4,9,4,3],[8,9,2,6]],difficulty:"easy",clues:[[0,7,6],[2,6,18],[0,0,9],[4,1,21],[1,3,10],[7,7,12],[7,6,12],[9,7,12]]},{squares:[[0,9,2,4],[1,5,2,4],[2,1,4,2],[3,5,4,4],[5,9,3,4],[8,9,2,4],[7,5,3,4],[6,1,4,2],[2,9,3,4],[0,5,1,6],[1,1,1,2]],difficulty:"easy",clues:[[1,3,8],[0,2,6],[1,1,2],[4,0,8],[3,2,16],[9,9,8],[7,8,12],[4,9,12],[1,7,8],[8,1,8],[8,2,12]]},{squares:[[0,9,3,3],[1,6,3,3],[2,3,3,3],[5,3,3,3],[6,6,3,3],[7,9,3,3],[3,9,4,3],[4,6,2,3],[0,3,2,4],[8,3,2,4],[2,0,6,1],[9,6,1,3],[0,6,1,3]],difficulty:"easy",clues:[[9,9,9],[8,3,8],[7,3,9],[8,4,9],[4,8,12],[2,0,6],[5,6,6],[9,4,3],[0,7,9],[0,6,3],[1,6,9],[1,0,8],[2,1,9]]},{squares:[[0,9,1,7],[0,1,4,2],[0,2,6,1],[1,4,5,2],[1,8,3,4],[1,9,9,1],[4,8,3,4],[4,1,3,2],[7,8,3,4],[6,4,1,3],[7,2,3,3],[7,4,3,2]],difficulty:"easy",clues:[[9,1,9],[5,1,6],[7,3,6],[4,2,6],[4,4,10],[1,0,8],[0,6,7],[4,9,9],[9,6,12],[6,3,3],[3,8,12],[5,7,12]]},{squares:[[1,8,2,3],[3,7,4,3],[0,9,1,7],[0,2,3,3],[1,4,4,2],[1,5,2,1],[3,2,4,1],[3,1,2,2],[5,4,5,2],[7,9,2,5],[9,9,1,5],[4,9,3,2],[3,9,1,2],[1,9,2,1],[7,2,3,3],[5,0,2,1],[5,1,2,1]],difficulty:"easy",clues:[[5,6,12],[3,9,2],[2,9,2],[1,7,6],[2,5,2],[9,7,5],[6,0,2],[3,0,4],[2,3,8],[2,2,9],[5,1,2],[4,2,4],[7,2,9],[7,3,10],[0,9,7],[6,9,6],[7,9,10]]},{squares:[[0,6,3,2],[0,8,3,2],[0,9,5,1],[3,8,1,5],[2,3,1,2],[0,4,3,1],[0,1,5,2],[0,3,2,2],[3,3,3,2],[9,9,1,5],[5,9,4,1],[4,8,2,2],[6,8,3,2],[4,6,4,2],[8,6,1,7],[9,4,1,5],[4,4,4,1],[5,1,1,2],[6,3,2,4]],difficulty:"easy",clues:[[2,9,5],[2,7,6],[2,5,6],[3,4,5],[2,4,3],[5,7,4],[7,9,4],[2,3,2],[0,2,4],[2,0,10],[5,0,2],[3,3,6],[7,3,8],[7,4,4],[7,5,8],[8,4,7],[9,5,5],[9,4,5],[8,7,6]]},{squares:[[0,9,3,4],[0,5,6,3],[3,9,2,4],[5,9,3,4],[8,9,2,4],[6,5,4,3],[0,2,5,3],[5,2,5,3]],difficulty:"easy",clues:[[4,7,8],[6,8,12],[9,7,8],[3,1,15],[3,3,18],[6,1,15],[6,3,12],[0,6,12]]},{squares:[[3,9,1,6],[4,7,3,2],[4,9,3,1],[4,8,3,1],[7,9,3,2],[7,7,1,7],[8,6,2,2],[8,7,2,1],[9,4,1,4],[8,4,1,4],[4,5,2,3],[6,5,1,5],[2,2,4,2],[0,3,4,1],[0,2,2,3],[2,0,8,1],[0,9,3,1],[0,8,3,2],[0,6,3,3]],difficulty:"easy",clues:[[2,9,3],[2,7,6],[2,3,4],[1,1,6],[3,1,8],[5,4,6],[6,5,5],[6,7,6],[6,9,3],[9,5,4],[9,2,4],[5,8,3],[8,4,4],[7,2,7],[8,7,2],[8,8,6],[3,6,6],[2,6,9],[3,0,8]]},{squares:[[2,5,3,3],[5,9,5,4],[5,5,5,6],[0,2,5,3],[0,9,2,7],[2,9,3,4]],difficulty:"easy",clues:[[3,7,12],[3,4,9],[6,4,30],[4,1,15],[8,8,20],[0,5,14]]},{squares:[[1,9,3,5],[0,2,4,3],[7,9,3,3],[4,7,3,3],[4,4,3,3],[4,1,6,2],[7,3,3,2],[7,6,3,3],[4,9,3,2],[0,9,1,7],[1,3,3,1],[1,4,3,1]],difficulty:"easy",clues:[[2,4,3],[8,8,9],[5,3,9],[8,2,6],[6,1,12],[0,9,7],[2,9,15],[4,9,6],[3,3,3],[6,5,9],[8,6,9],[2,1,12]]},{squares:[[0,8,6,5],[1,3,4,4],[6,8,3,4],[5,3,3,4],[6,4,4,1],[8,3,2,4],[0,3,1,4],[0,9,10,1],[9,8,1,4]],difficulty:"easy",clues:[[8,8,12],[9,8,4],[8,4,4],[8,3,8],[0,3,4],[1,3,16],[5,3,12],[8,9,10],[0,4,30]]},{squares:[[0,9,2,5],[0,4,1,5],[1,0,6,1],[1,1,4,1],[5,4,2,4],[1,4,2,3],[3,9,2,8],[2,9,1,5],[5,9,5,1],[5,8,5,2],[5,6,5,1],[5,5,3,1],[8,5,2,6],[7,4,1,5]],difficulty:"easy",clues:[[1,6,10],[1,4,6],[2,5,5],[0,3,5],[3,1,4],[3,0,6],[6,2,8],[7,2,5],[6,5,3],[7,6,5],[8,9,5],[3,4,16],[9,8,10],[8,3,12]]},{squares:[[2,8,1,4],[0,9,6,1],[3,8,3,2],[0,8,2,2],[0,6,1,7],[1,6,1,3],[1,3,2,4],[2,4,5,1],[3,6,3,2],[6,9,2,5],[9,9,1,10],[8,9,1,9],[3,0,6,1],[7,4,1,4],[4,3,3,3],[3,3,1,3]],difficulty:"easy",clues:[[3,9,6],[1,8,4],[4,4,5],[7,8,10],[7,3,4],[5,1,9],[3,2,3],[4,0,6],[9,1,10],[8,3,9],[3,6,6],[3,7,6],[2,7,4],[0,0,7],[1,4,3],[1,3,8]]},{squares:[[0,9,3,3],[1,6,2,2],[0,6,1,4],[0,2,3,3],[1,4,4,2],[3,8,2,4],[3,9,7,1],[5,8,4,3],[3,1,4,2],[3,2,7,1],[7,1,3,2],[5,5,2,3],[7,5,2,3],[9,8,1,6]],difficulty:"easy",clues:[[3,9,7],[5,7,12],[9,6,6],[8,4,6],[8,2,7],[8,0,6],[0,5,4],[1,1,9],[4,7,8],[1,9,9],[3,1,8],[1,3,8],[1,5,4],[5,5,6]]}],medium:[{squares:[[0,9,3,6],[3,9,3,7],[0,1,7,2],[0,3,3,1],[0,2,8,1],[6,6,4,2],[6,4,3,2],[9,4,1,5],[8,2,1,3],[7,1,1,2],[6,8,3,2],[6,9,4,1],[9,8,1,2]],difficulty:"medium",clues:[[8,9,4],[7,3,6],[9,3,5],[8,0,3],[5,2,8],[7,1,2],[3,1,14],[0,3,3],[1,8,18],[3,6,21],[6,8,6],[9,8,2],[7,6,8]]},{squares:[[0,9,2,3],[2,9,4,2],[7,9,3,2],[6,9,1,5],[8,7,2,2],[7,7,1,5],[8,4,2,2],[8,5,2,1],[6,2,4,2],[5,0,5,1],[2,3,4,3],[4,7,2,3],[6,4,1,2],[0,4,6,1],[2,7,2,3],[0,6,2,2],[0,3,2,4],[2,0,3,1]],difficulty:"medium",clues:[[0,6,4],[3,6,6],[5,5,6],[6,7,5],[8,9,6],[7,6,5],[9,6,4],[9,5,2],[9,3,4],[6,3,2],[4,2,12],[4,4,6],[3,0,3],[9,0,5],[9,1,8],[0,9,6],[2,9,8],[1,2,8]]},{squares:[[0,2,3,3],[3,5,3,3],[6,8,3,3],[6,5,3,3],[3,2,3,3],[6,2,3,3],[0,5,3,3],[0,8,3,3],[3,8,3,3],[9,9,1,10],[0,9,9,1]],difficulty:"medium",clues:[[1,7,9],[4,4,9],[1,1,9],[2,9,9],[5,6,9],[7,8,9],[9,2,10],[8,5,9],[7,0,9],[3,1,9],[0,4,9]]},{squares:[[0,9,2,3],[2,9,2,4],[0,6,1,4],[1,6,1,2],[2,5,5,1],[1,4,4,1],[0,2,2,3],[1,3,6,1],[2,2,2,3],[4,2,1,3],[5,2,5,2],[5,0,5,1],[7,6,3,4],[5,4,2,1],[8,8,2,2],[7,9,3,1],[5,8,3,2],[4,9,3,1],[4,8,1,3],[5,6,2,1]],difficulty:"medium",clues:[[1,8,6],[2,8,8],[1,6,2],[0,5,4],[3,4,4],[4,5,5],[4,6,3],[5,9,3],[6,8,6],[8,9,3],[8,8,4],[6,6,2],[6,4,2],[5,3,6],[4,1,3],[2,1,6],[1,1,6],[6,0,5],[7,2,10],[8,4,12]]},{squares:[[0,8,4,5],[0,3,6,4],[4,8,4,5],[0,9,10,1],[6,3,4,4],[8,8,2,5]],difficulty:"medium",clues:[[4,9,10],[7,2,16],[1,5,20],[6,7,20],[9,6,10],[3,2,24]]},{squares:[[8,3,2,4],[4,3,4,4],[1,6,3,6],[0,0,4,1],[0,6,1,6],[0,9,3,3],[3,9,5,3],[8,9,2,6],[4,6,4,3]],difficulty:"medium",clues:[[2,4,18],[4,8,15],[6,5,12],[9,6,12],[8,2,8],[5,1,16],[2,0,4],[1,8,9],[0,2,6]]},{squares:[[0,9,2,2],[0,7,3,3],[2,9,4,2],[0,4,4,3],[0,1,5,2],[4,7,3,5],[3,7,1,3],[6,9,3,2],[9,9,1,6],[7,7,2,4],[7,3,3,3],[5,0,5,1],[4,2,3,1],[5,1,2,1]],difficulty:"medium",clues:[[9,0,5],[9,4,6],[4,9,8],[0,8,4],[2,0,10],[6,1,2],[5,2,3],[5,5,15],[1,6,9],[1,4,12],[3,6,3],[8,2,9],[8,4,8],[7,8,6]]},{squares:[[3,6,4,3],[7,7,1,6],[3,9,3,3],[6,9,1,3],[7,9,3,2],[8,7,2,3],[8,4,2,3],[4,1,6,2],[0,0,3,1],[0,5,2,5],[0,9,2,4],[2,9,1,9],[3,3,1,4],[4,3,3,2]],difficulty:"medium",clues:[[1,4,10],[4,5,12],[5,8,9],[6,8,3],[7,6,6],[9,6,6],[9,3,6],[5,2,6],[2,0,3],[1,8,8],[2,9,9],[3,3,4],[9,1,12],[9,8,6]]},{squares:[[3,6,4,4],[1,9,6,3],[7,9,3,8],[3,1,7,2],[0,9,1,10],[1,6,2,4],[1,2,6,1],[1,1,2,2]],difficulty:"medium",clues:[[0,6,10],[4,4,16],[3,2,6],[1,0,4],[8,6,24],[1,5,8],[4,8,18],[7,1,14]]},{squares:[[0,9,4,7],[0,1,10,2],[0,2,4,1],[4,9,6,8]],difficulty:"medium",clues:[[1,2,4],[2,7,28],[5,6,48],[7,1,20]]},{squares:[[1,8,3,3],[6,8,3,3],[1,3,3,3],[6,3,3,3],[4,5,2,2],[0,0,4,1],[4,0,6,1],[9,6,1,6],[9,9,1,3],[5,9,4,1],[0,9,5,1],[0,8,1,3],[0,5,1,5],[1,5,2,2],[3,5,1,2],[4,8,1,3],[5,8,1,3],[4,1,2,1],[4,3,2,2],[6,5,3,1],[6,4,3,1]],difficulty:"medium",clues:[[3,9,5],[7,9,4],[9,8,3],[7,6,9],[5,7,3],[4,7,3],[1,7,9],[0,7,3],[0,4,5],[1,5,4],[3,5,2],[5,5,4],[6,5,3],[7,4,3],[4,2,4],[2,2,9],[5,1,2],[7,2,9],[8,0,6],[2,0,4],[9,4,6]]},{squares:[[1,8,2,3],[3,8,3,4],[4,4,1,3],[2,4,2,3],[0,5,3,1],[0,9,6,1],[0,8,1,3],[6,9,3,3],[9,9,1,7],[8,2,2,3],[7,6,2,4],[6,6,1,4],[5,4,1,4],[6,2,2,3],[0,0,6,1],[0,1,5,1],[0,4,2,3]],difficulty:"medium",clues:[[1,9,6],[0,7,3],[1,7,6],[1,5,3],[0,3,6],[3,3,6],[3,1,5],[3,0,6],[5,2,4],[4,3,3],[7,1,6],[6,4,4],[8,5,8],[9,5,7],[7,8,9],[4,7,12],[9,2,6]]},{squares:[[0,9,1,7],[0,2,3,1],[0,1,5,2],[3,5,2,4],[5,7,1,4],[6,7,2,2],[2,9,2,2],[1,7,3,2],[1,5,2,3],[4,9,1,4],[1,9,1,2],[5,9,5,1],[5,8,3,1],[8,8,2,4],[6,4,1,5],[5,3,1,4],[6,5,2,1],[7,4,3,2],[7,2,3,3]],difficulty:"medium",clues:[[0,9,7],[1,9,2],[2,1,10],[3,4,8],[2,7,6],[1,4,6],[3,8,4],[4,8,4],[6,9,5],[6,8,3],[5,6,4],[7,7,4],[9,7,8],[7,5,2],[8,3,6],[6,3,5],[5,1,4],[1,2,3],[9,0,9]]},{squares:[[2,9,5,2],[7,9,2,4],[9,9,1,6],[8,3,2,4],[0,9,1,4],[1,9,1,7],[0,5,1,6],[1,2,2,3],[2,7,2,5],[6,2,2,3],[6,5,3,2],[4,7,3,2],[4,3,4,1],[4,5,2,2],[3,2,3,3]],difficulty:"medium",clues:[[0,7,4],[0,4,6],[1,1,6],[3,5,10],[4,9,10],[5,6,6],[8,8,8],[9,7,6],[8,4,6],[5,4,4],[6,3,4],[7,1,6],[9,2,8],[1,9,7],[3,2,9]]},{squares:[[1,7,3,3],[0,9,1,5],[1,9,5,2],[0,4,5,2],[4,7,4,2],[6,9,4,2],[8,7,2,5],[4,5,4,1],[5,4,3,2],[2,2,4,2],[0,2,2,3],[6,2,4,3],[2,0,4,1]],difficulty:"medium",clues:[[0,7,5],[2,8,10],[2,6,9],[1,3,10],[1,2,6],[4,1,8],[4,0,4],[7,1,12],[7,4,6],[8,4,10],[6,5,4],[6,6,8],[7,9,8]]},{squares:[[4,5,2,2],[3,5,1,3],[3,6,3,1],[6,6,1,3],[4,3,3,1],[4,2,2,3],[7,5,3,2],[4,9,2,3],[0,5,3,2],[1,3,2,2],[7,3,2,2],[6,8,2,2],[0,6,3,1],[7,6,3,1],[6,2,1,3],[3,2,1,3],[6,9,4,1],[2,8,2,2],[0,9,4,1],[9,3,1,4],[0,3,1,4],[8,8,2,2],[0,8,2,2],[1,1,2,2],[7,1,2,2]],difficulty:"medium",clues:[[2,9,4],[1,8,4],[3,8,4],[5,8,6],[7,9,4],[8,6,3],[6,5,3],[5,6,3],[1,6,3],[1,4,6],[3,4,3],[5,4,4],[5,3,3],[8,4,6],[7,3,4],[9,2,4],[8,0,4],[4,1,6],[3,1,3],[1,1,4],[0,2,4],[6,0,3],[9,8,4],[2,2,4],[7,7,4]]},{squares:[[3,7,3,3],[3,9,3,2],[6,9,2,3],[8,9,2,2],[8,7,2,2],[6,6,2,3],[0,3,3,3],[0,5,3,2],[3,4,1,5],[5,4,1,5],[4,2,1,3],[4,4,1,2],[8,5,2,3],[0,0,3,1],[6,0,4,1],[8,2,2,2],[6,3,2,3],[2,9,1,4],[0,7,2,2],[0,9,2,2]],difficulty:"medium",clues:[[0,9,4],[1,6,4],[4,8,6],[9,9,4],[9,7,4],[8,4,6],[7,2,6],[9,1,4],[5,1,5],[4,1,3],[3,3,5],[2,0,3],[1,2,9],[1,4,6],[7,9,6],[2,9,4],[4,3,2],[9,0,4],[4,6,9],[6,6,6]]},{squares:[[0,9,1,6],[3,9,1,8],[1,9,2,6],[0,3,3,2],[4,7,3,2],[4,5,3,4],[7,8,3,6],[1,1,6,2],[7,2,2,3],[9,2,1,3],[0,1,1,2],[4,9,6,1],[4,8,3,1]],difficulty:"medium",clues:[[5,7,6],[5,4,12],[1,2,6],[0,1,2],[9,1,3],[7,6,18],[8,9,6],[4,8,3],[3,5,8],[0,5,6],[1,7,12],[3,1,12],[7,0,6]]},{squares:[[0,9,3,6],[0,3,6,4],[3,6,3,3],[7,9,3,9],[7,0,3,1],[6,9,1,10],[3,9,3,3]],difficulty:"medium",clues:[[3,5,9],[4,7,9],[3,1,24],[8,0,3],[1,8,18],[8,4,27],[6,9,10]]},{squares:[[1,4,6,3],[7,3,3,3],[5,0,5,1],[0,1,7,1],[0,0,5,1],[0,6,1,5],[1,7,3,3],[0,9,1,3],[1,9,5,2],[7,9,3,3],[6,9,1,2],[7,6,2,3],[9,6,1,3],[5,7,2,3],[4,7,1,3]],difficulty:"medium",clues:[[0,8,3],[2,6,9],[3,9,10],[5,6,6],[6,8,2],[8,9,9],[9,5,3],[8,2,9],[5,1,7],[3,0,5],[8,0,5],[6,3,18],[8,6,6],[4,5,3],[0,3,5]]},{squares:[[0,9,1,10],[9,9,1,10],[1,2,3,3],[6,9,3,3],[1,9,5,3],[4,2,5,3],[1,6,4,4],[5,6,4,4]],difficulty:"medium",clues:[[2,8,15],[6,5,16],[9,5,10],[0,4,10],[3,4,16],[7,1,15],[2,1,9],[7,8,9]]},{squares:[[3,8,2,6],[6,8,3,3],[5,5,3,3],[5,8,1,3],[7,9,3,1],[2,9,5,1],[0,9,1,5],[1,9,1,7],[2,8,1,5],[2,3,1,4],[0,2,2,3],[0,4,1,2],[3,2,2,2],[3,0,4,1],[7,2,3,3],[8,5,2,3],[5,2,2,2],[9,8,1,3]],difficulty:"medium",clues:[[8,9,3],[6,9,5],[5,7,3],[7,7,9],[9,7,3],[9,4,6],[5,1,4],[1,1,6],[0,3,2],[0,6,5],[8,2,9],[6,4,9],[4,5,12],[2,6,5],[1,9,7],[2,3,4],[4,2,4],[3,0,4]]},{squares:[[2,8,5,5],[2,3,7,4],[7,9,3,6],[0,9,2,8],[2,9,5,1],[9,3,1,4],[0,1,2,2]],difficulty:"medium",clues:[[0,7,16],[4,9,5],[4,6,25],[8,6,18],[5,1,28],[0,0,4],[9,2,4]]},{squares:[[0,9,1,10],[1,8,1,9],[2,2,3,3],[2,5,3,3],[2,8,3,3],[1,9,9,1],[7,8,3,3],[5,5,3,3],[6,2,3,3],[8,5,2,3],[9,2,1,3],[5,2,1,3],[5,8,2,3]],difficulty:"medium",clues:[[0,6,10],[3,7,9],[5,7,6],[3,4,9],[3,1,9],[5,1,3],[9,2,3],[9,4,6],[8,7,9],[6,4,9],[7,1,9],[1,1,9],[7,9,9]]},{squares:[[2,7,4,4],[6,3,4,4],[6,7,2,4],[2,3,4,2],[2,1,4,2],[8,7,2,4],[6,9,4,2],[2,9,4,2],[0,3,2,4],[0,7,2,4],[0,9,2,2]],difficulty:"medium",clues:[[1,8,4],[4,8,8],[0,6,8],[7,8,8],[9,6,8],[4,2,8],[0,2,8],[8,1,16],[6,5,8],[3,6,16],[2,0,8]]},{squares:[[2,7,2,3],[4,6,1,2],[1,4,5,2],[0,9,6,1],[1,8,5,1],[0,8,1,5],[1,7,1,3],[0,3,1,4],[1,2,3,3],[4,1,3,2],[4,2,6,1],[7,1,3,1],[7,0,3,1],[9,9,1,7],[4,7,5,1],[6,9,3,2],[5,6,2,2],[7,6,2,4],[6,4,1,2]],difficulty:"medium",clues:[[3,9,6],[3,8,5],[1,6,3],[0,5,5],[0,2,4],[3,5,6],[4,6,2],[5,7,5],[6,5,4],[7,9,6],[9,7,7],[8,5,8],[8,1,3],[6,0,6],[6,4,2],[2,0,9],[5,2,6],[2,4,10],[9,0,3]]},{squares:[[1,9,1,6],[0,3,3,4],[0,9,1,6],[2,7,7,4],[2,9,8,2],[9,7,1,8],[3,3,4,4],[7,3,2,4]],difficulty:"medium",clues:[[3,6,28],[1,2,12],[4,1,16],[7,1,8],[9,5,8],[0,8,6],[1,7,6],[6,8,16]]},{squares:[[1,7,8,2],[0,4,10,1],[1,3,8,2],[0,5,7,1],[7,5,3,1],[9,9,1,4],[5,9,4,2],[0,9,5,2],[0,7,1,2],[0,3,1,4],[1,1,4,2],[5,1,5,2],[9,3,1,2]],difficulty:"medium",clues:[[4,9,10],[3,6,16],[6,8,8],[9,7,4],[0,7,2],[1,5,7],[2,4,10],[8,5,3],[9,2,2],[5,3,16],[2,1,8],[0,2,4],[7,1,10]]},{squares:[[0,6,6,3],[2,3,6,4],[6,7,4,4],[4,9,2,3],[0,3,2,4],[8,3,2,4],[6,9,4,2],[0,9,4,3]],difficulty:"medium",clues:[[2,8,12],[7,8,8],[7,6,16],[5,2,24],[9,2,8],[1,1,8],[3,5,18],[4,9,6]]},{squares:[[0,9,1,4],[1,9,5,1],[1,8,3,3],[0,4,2,3],[0,1,6,2],[2,4,4,3],[0,5,10,1],[4,7,4,2],[6,9,4,1],[8,8,2,3],[4,8,4,1],[6,4,2,5],[8,4,2,2],[8,2,2,3]],difficulty:"medium",clues:[[0,8,4],[5,7,8],[6,8,4],[8,9,4],[9,6,6],[9,3,4],[6,3,10],[3,3,12],[1,3,6],[3,0,12],[8,1,6],[4,5,10],[2,9,5],[2,6,9]]}],hard:[{squares:[[0,9,2,4],[2,9,2,4],[4,9,1,9],[0,0,5,1],[0,1,4,1],[0,5,4,4],[5,9,3,4],[8,9,2,7],[5,2,5,3],[5,5,3,3]],difficulty:"hard",clues:[[0,6,8],[3,6,8],[1,5,16],[4,7,9],[3,1,4],[3,0,5],[6,1,15],[6,5,9],[6,8,12],[8,4,14]]},{squares:[[0,9,9,1],[9,9,1,9],[1,0,9,1],[0,8,1,9],[1,3,3,3],[6,3,3,3],[6,8,3,3],[1,8,3,3],[1,5,8,2],[4,8,2,3],[4,3,2,3]],difficulty:"hard",clues:[[3,9,9],[2,7,9],[5,6,6],[7,7,9],[9,6,9],[6,4,16],[5,2,6],[3,2,9],[7,2,9],[5,0,9],[0,2,9]]},{squares:[[0,9,4,10],[4,9,6,4],[5,5,5,6],[4,5,1,6]],difficulty:"hard",clues:[[1,6,40],[6,8,24],[4,1,6],[7,3,30]]},{squares:[[0,9,3,3],[0,6,4,4],[3,9,7,3],[0,2,10,3],[4,6,6,4]],difficulty:"hard",clues:[[2,7,9],[0,4,16],[3,1,30],[8,8,21],[5,5,24]]},{squares:[[0,9,3,4],[3,9,3,10],[0,5,3,6],[6,9,4,3],[6,6,4,3],[6,3,4,4]],difficulty:"hard",clues:[[1,4,18],[7,8,12],[6,3,16],[4,2,30],[8,6,12],[2,7,12]]},{squares:[[7,8,2,2],[5,9,5,1],[9,8,1,4],[7,6,2,3],[9,4,1,4],[6,3,3,3],[6,6,1,3],[5,7,1,5],[6,8,1,2],[3,8,3,1],[4,5,1,3],[3,4,1,2],[3,2,3,1],[6,0,4,1],[2,1,4,2],[0,2,2,3],[2,5,1,4],[4,7,1,2],[3,6,1,2],[0,7,4,1],[0,6,3,1],[0,4,2,2],[0,5,2,1],[0,8,3,1],[0,9,5,1]],difficulty:"hard",clues:[[1,6,3],[2,4,4],[4,6,2],[3,5,2],[0,5,2],[2,7,4],[3,8,3],[0,8,3],[4,9,5],[1,3,4],[1,0,6],[2,1,8],[3,2,3],[3,3,2],[4,3,3],[5,4,5],[6,5,3],[6,7,2],[7,9,5],[8,4,6],[7,3,9],[8,0,4],[9,1,4],[7,7,4],[9,7,4]]},{squares:[[1,8,3,3],[0,9,1,4],[1,9,3,1],[4,8,2,2],[4,6,2,2],[1,5,3,4],[4,4,5,2],[6,8,2,4],[4,9,6,1],[8,8,2,4],[9,4,1,5],[6,2,3,3],[1,1,5,2],[4,2,2,1],[0,5,1,6]],difficulty:"hard",clues:[[0,7,4],[3,7,9],[8,6,8],[5,5,4],[4,2,2],[2,3,12],[2,9,3],[5,9,6],[5,7,4],[7,3,10],[2,0,10],[0,4,6],[7,8,8],[9,4,5],[7,1,9]]},{squares:[[1,6,5,2],[6,8,3,5],[3,3,4,3],[0,9,4,2],[0,7,3,1],[3,7,3,1],[0,6,1,5],[2,4,4,1],[1,4,1,3],[0,1,2,2],[2,3,1,4],[3,0,7,1],[7,3,2,3],[9,9,1,9],[6,9,3,1],[4,9,2,2]],difficulty:"hard",clues:[[6,9,3],[9,9,9],[4,7,3],[5,8,4],[2,8,8],[1,7,3],[0,5,5],[1,3,3],[8,1,6],[6,3,12],[4,5,10],[8,7,15],[2,4,4],[2,1,4],[1,0,4],[5,0,7]]},{squares:[[3,7,2,3],[5,7,3,3],[0,9,4,2],[0,7,3,2],[0,5,3,4],[0,1,6,2],[3,4,4,2],[3,2,6,1],[6,1,4,2],[9,5,1,4],[7,4,2,2],[8,7,1,3],[4,9,3,2],[9,9,1,4],[7,9,2,2]],difficulty:"hard",clues:[[2,8,8],[9,8,4],[8,6,3],[6,6,9],[5,3,8],[8,4,4],[9,3,4],[7,2,6],[8,0,8],[4,0,12],[1,2,12],[1,6,6],[3,5,6],[7,9,4],[4,9,6]]},{squares:[[0,9,9,1],[1,2,3,3],[0,8,1,9],[1,8,3,3],[9,9,1,6],[8,3,2,4],[6,7,3,2],[4,8,5,1],[4,7,2,2],[1,5,8,1],[1,4,5,2],[6,4,3,1],[6,3,2,4],[4,2,2,3]],difficulty:"hard",clues:[[0,0,9],[0,9,9],[2,7,9],[6,8,5],[7,6,6],[3,5,8],[5,0,6],[1,3,10],[3,2,9],[9,7,6],[8,4,3],[8,1,8],[6,3,8],[4,6,4]]},{squares:[[5,7,2,3],[4,7,1,5],[5,4,1,4],[6,4,1,3],[7,7,2,4],[4,9,5,2],[1,9,3,3],[0,9,1,6],[1,6,2,2],[3,6,1,5],[1,4,2,2],[0,3,1,4],[1,2,2,3],[4,2,1,3],[3,1,1,2],[5,0,5,1],[9,9,1,3],[9,6,1,6],[7,3,2,2],[6,1,3,1]],difficulty:"hard",clues:[[0,8,6],[9,8,3],[6,6,6],[2,6,4],[0,2,4],[2,3,4],[1,1,6],[5,3,4],[4,1,3],[3,0,2],[7,1,3],[8,3,4],[8,5,8],[9,4,6],[2,8,9],[6,8,10],[4,5,5],[3,4,5],[8,0,5],[6,4,3]]},{squares:[[2,8,4,5],[7,9,3,3],[6,9,1,10],[2,3,3,2],[0,9,2,7],[0,2,2,3],[2,1,3,2],[5,3,1,4],[2,9,4,1],[7,6,3,5],[7,1,3,2]],difficulty:"hard",clues:[[3,9,4],[3,0,6],[5,2,4],[6,6,10],[7,0,6],[3,3,6],[0,2,6],[0,7,14],[2,5,20],[7,8,9],[8,3,15]]},{squares:[[1,8,4,3],[0,9,6,1],[5,8,4,4],[2,5,3,3],[5,4,4,4],[0,2,5,3],[0,5,2,3],[0,8,1,3],[9,8,1,9],[5,0,4,1],[6,9,4,1]],difficulty:"hard",clues:[[0,4,6],[0,7,3],[4,4,9],[3,1,15],[7,2,16],[7,0,4],[7,9,4],[9,5,9],[6,7,16],[2,6,12],[3,9,6]]},{squares:[[2,6,2,2],[4,8,1,3],[5,7,2,2],[4,5,1,4],[5,4,2,2],[3,4,1,2],[2,4,1,5],[3,2,1,3],[4,1,4,2],[7,4,3,1],[8,3,2,3],[7,3,1,2],[5,2,2,1],[7,8,3,3],[1,8,1,5],[1,3,1,4],[0,9,5,1],[2,8,2,2],[5,9,5,1],[5,8,2,1],[5,5,5,1],[8,0,2,1],[0,8,1,4],[0,4,1,5]],difficulty:"hard",clues:[[2,9,5],[8,9,5],[8,7,9],[5,8,2],[5,7,4],[4,7,3],[3,8,4],[1,7,5],[0,6,4],[0,3,5],[1,2,4],[2,3,5],[3,6,4],[3,4,2],[3,1,3],[4,3,4],[5,3,4],[6,5,5],[8,4,3],[7,3,2],[6,2,2],[6,0,8],[9,2,6],[9,0,2]]},{squares:[[1,8,3,3],[2,4,3,2],[0,5,8,1],[8,9,1,8],[5,8,2,3],[0,9,8,1],[0,8,1,3],[4,8,1,3],[7,8,1,3],[0,4,2,5],[2,2,3,2],[2,0,8,1],[9,7,1,7],[5,1,4,1],[5,4,3,3],[9,9,1,2]],difficulty:"hard",clues:[[3,9,8],[4,7,3],[7,7,3],[3,3,6],[7,1,4],[5,0,8],[6,3,9],[5,5,8],[9,8,2],[9,3,7],[8,5,8],[0,2,10],[1,7,9],[0,6,3],[6,8,6],[2,1,6]]},{squares:[[3,8,2,2],[5,6,1,3],[5,7,4,1],[3,5,1,5],[4,3,3,3],[4,6,1,3],[0,6,4,1],[0,8,3,2],[0,9,6,1],[6,9,4,1],[5,8,5,1],[9,7,1,4],[6,6,3,2],[6,4,3,1],[7,3,3,2],[7,1,3,2],[0,0,7,1],[0,4,3,2],[0,5,3,1],[0,2,3,2]],difficulty:"hard",clues:[[3,9,6],[1,7,6],[4,7,4],[6,8,5],[8,9,4],[8,7,4],[9,6,4],[8,5,6],[7,4,3],[5,5,3],[4,5,3],[2,5,3],[3,6,4],[1,4,6],[3,3,5],[1,1,6],[5,2,9],[9,2,6],[8,1,6],[5,0,7]]},{squares:[[0,9,2,4],[0,5,5,2],[2,7,3,2],[5,7,4,2],[5,5,4,4],[6,9,4,2],[2,9,4,2],[3,3,2,4],[0,3,3,2],[0,1,3,2],[9,7,1,8],[5,1,4,2]],difficulty:"hard",clues:[[0,8,8],[4,8,8],[3,6,6],[5,6,8],[7,8,8],[9,6,8],[8,3,16],[3,5,10],[1,3,6],[2,0,6],[4,2,8],[7,0,8]]},{squares:[[4,7,2,5],[1,6,3,2],[1,4,3,2],[1,2,7,2],[6,7,2,5],[1,9,7,2],[0,9,1,5],[1,7,3,1],[0,4,1,5],[1,0,9,1],[8,3,2,3],[9,9,1,6],[8,9,1,2],[8,7,1,4]],difficulty:"hard",clues:[[8,8,2],[9,8,6],[2,4,6],[2,6,6],[0,3,5],[9,0,9],[8,3,6],[4,1,14],[5,5,10],[0,5,5],[2,9,14],[1,7,3],[8,6,4],[7,4,10]]},{squares:[[3,6,4,4],[7,6,3,2],[8,9,2,3],[7,9,1,3],[7,4,3,1],[3,9,4,1],[3,8,4,2],[5,2,2,3],[3,2,2,3],[9,3,1,4],[7,3,2,4],[0,9,3,2],[0,7,1,5],[1,7,2,4],[1,3,2,1],[0,2,3,3]],difficulty:"hard",clues:[[1,8,6],[2,5,8],[0,5,5],[1,3,2],[1,1,9],[4,4,16],[5,7,8],[9,8,6],[8,6,6],[8,2,8],[9,1,4],[5,1,6],[4,9,4],[7,9,3],[7,4,3],[3,2,6]]},{squares:[[8,9,2,2],[7,9,1,4],[0,9,7,1],[0,8,1,9],[1,0,9,1],[8,7,2,5],[6,2,4,2],[6,5,2,3],[3,8,4,3],[1,8,2,4],[3,5,3,3],[1,2,5,2],[1,4,2,2]],difficulty:"hard",clues:[[2,7,8],[5,7,12],[7,8,4],[9,9,4],[9,5,10],[7,4,6],[4,3,9],[1,3,4],[7,1,8],[6,0,9],[3,9,7],[2,1,10],[0,6,9]]},{squares:[[0,9,2,7],[2,9,5,3],[3,6,2,3],[2,6,1,4],[3,3,3,3],[5,6,3,3],[7,9,3,3],[8,6,2,7],[6,3,2,4],[0,0,6,1],[0,2,3,2]],difficulty:"hard",clues:[[1,7,14],[2,5,4],[4,5,6],[6,5,9],[4,2,9],[6,1,8],[4,0,6],[1,2,6],[9,5,14],[4,9,15],[7,7,9]]},{squares:[[1,9,3,4],[4,8,5,2],[4,6,4,3],[1,4,3,2],[4,3,4,3],[0,5,4,1],[0,9,1,4],[0,4,1,5],[1,0,9,1],[1,2,3,2],[8,4,2,4],[8,6,2,2],[9,9,1,3],[4,9,5,1]],difficulty:"hard",clues:[[0,7,4],[2,8,12],[6,7,10],[6,5,12],[9,3,8],[2,4,6],[0,3,5],[5,3,12],[8,0,9],[9,6,4],[9,8,3],[7,9,5],[1,5,4],[3,1,6]]},{squares:[[0,8,3,3],[0,5,3,3],[3,6,2,4],[5,7,4,4],[6,9,4,2],[0,9,3,1],[3,9,3,2],[3,7,2,1],[0,2,5,1],[0,1,4,2],[4,1,3,2],[7,1,3,2],[5,3,5,2],[9,7,1,4]],difficulty:"hard",clues:[[1,7,9],[1,9,3],[4,9,6],[4,7,2],[7,8,8],[7,6,16],[9,6,4],[4,5,8],[1,3,9],[2,2,5],[2,0,8],[8,0,6],[6,3,10],[4,1,6]]},{squares:[[3,8,3,3],[6,8,2,3],[3,4,4,1],[1,5,7,1],[7,4,2,3],[8,8,2,4],[2,9,8,1],[0,9,2,3],[2,8,1,2],[0,6,3,1],[0,5,1,4],[1,4,2,3],[0,1,4,2],[3,3,4,2],[4,0,4,1],[8,1,2,2],[4,1,4,1],[9,4,1,3]],difficulty:"hard",clues:[[1,8,6],[7,7,6],[1,6,3],[2,5,7],[1,3,6],[4,4,4],[8,3,6],[9,3,3],[7,0,4],[2,0,8],[5,1,4],[6,3,8],[9,1,4],[4,7,9],[2,7,2],[5,9,8],[9,8,8],[0,2,4]]},{squares:[[0,9,7,4],[3,5,7,6],[8,9,2,4],[7,9,1,4],[0,5,3,6]],difficulty:"hard",clues:[[7,8,4],[1,2,18],[1,7,28],[5,3,42],[9,6,8]]},{squares:[[0,9,7,4],[0,5,6,6],[7,9,3,10],[6,5,1,6]],difficulty:"hard",clues:[[8,2,30],[5,8,28],[6,4,6],[2,2,36]]},{squares:[[0,9,3,4],[2,5,4,4],[3,9,6,4],[9,9,1,6],[0,1,10,2],[6,3,4,2],[6,5,3,2],[0,5,2,4]],difficulty:"hard",clues:[[1,7,12],[3,4,16],[0,3,8],[7,5,6],[9,6,6],[8,2,8],[5,1,20],[4,8,24]]},{squares:[[1,8,5,4],[1,9,9,1],[6,8,4,4],[1,4,5,2],[6,4,4,5],[1,2,5,3],[0,9,1,4],[0,5,1,6]],difficulty:"hard",clues:[[3,3,10],[7,6,16],[0,8,4],[0,4,6],[8,2,20],[4,0,15],[4,7,20],[2,9,9]]},{squares:[[0,9,9,4],[9,9,1,6],[0,5,9,2],[0,3,4,4],[4,3,6,4]],difficulty:"hard",clues:[[9,7,6],[6,4,18],[1,1,16],[1,7,36],[5,1,24]]},{squares:[[1,9,4,3],[2,6,2,5],[5,6,2,4],[6,9,4,2],[5,7,5,1],[5,9,1,2],[4,6,1,6],[7,6,3,7],[5,2,2,3],[0,0,5,1],[0,1,4,1],[0,9,1,8],[1,6,1,5]],difficulty:"hard",clues:[[3,8,12],[5,8,2],[7,9,8],[7,7,5],[5,5,8],[8,4,21],[6,1,6],[4,3,6],[3,4,10],[0,4,8],[2,1,4],[1,5,5],[4,0,5]]}]}}),function(){define("cs!utilities/cgrect",[],function(){var CGRect;return CGRect={intersectsRect:function(a,b){return Math.abs(a.x+a.width/2-(b.x+b.width/2))<a.width/2+b.width/2&&Math.abs(a.y-a.height/2-(b.y-b.height/2))<a.height/2+b.height/2?!0:!1},make:function(x,y,width,height){return{x:x,y:y,width:width,height:height}}}})}.call(this),function(){define("cs!utilities/input",[],function(){var Input;return Input={normalize:function(e,element){var position;return element==null&&(element=null),e.type.indexOf("mouse")!==-1?position={x:e.pageX,y:e.pageY}:position={x:e.touches[0].pageX,y:e.touches[0].pageY},position},distance:function(point1,point2){return Math.sqrt(Math.pow(point1.x-point2.x,2)+Math.pow(point1.y-point2.y,2))}}})}.call(this),function(){var __hasProp=Object.prototype.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};define("cs!views/common/dialog-box",["jquery","backbone","buzz","cs!utilities/env"],function($,Backbone,buzz,env){var DialogBox;return DialogBox=function(_super){function DialogBox(){DialogBox.__super__.constructor.apply(this,arguments)}return __extends(DialogBox,_super),DialogBox.prototype.animationTime=300,DialogBox.prototype.doCallback=!0,DialogBox.prototype.events=function(){var events;return env.mobile?events={"touchstart button":"onAction",orientationchange:"orientationChange"}:events={"click button":"onAction",orientationchange:"orientationChange"}},DialogBox.prototype.initialize=function(){var button,html,template,_i,_len,_ref;this.options.animationTime!=null&&(this.animationTime=this.options.animationTime),html="",this.options.title&&(html+="<h3>"+this.options.title+"</h3>"),this.options.message&&(html+="<p>"+this.options.message+"</p>"),_ref=this.options.buttons;for(_i=0,_len=_ref.length;_i<_len;_i++)button=_ref[_i],html+='<button data-action="'+button.text.toLowerCase()+'">'+button.text+"</button>";return template='<div class="dialog-box">\n	'+html+"\n</div>",this.overlay=$('<div class="overlay"></div>'),this.elem=$(template),this.render()},DialogBox.prototype.render=function(){return this.$el.append(this.elem),this.elem.after(this.overlay),this.elem.css({left:(this.$el.width()-this.elem.width())/2,top:-this.elem.height()}),this.elem.animate({translateY:(this.$el.height()+this.elem.height())/2+"px",opacity:1},this.animationTime),this.overlay.animate({opacity:.7},this.animationTime)},DialogBox.prototype.onAction=function(e){var button,buttonAction,_i,_len,_ref,_ref2,_this=this;e.preventDefault();if(!this.doCallback)return;this.doCallback=!1,buttonAction=$(e.target).attr("data-action"),window.LowLatencyAudio!=null?window.LowLatencyAudio.play("button"):(_ref=window.sounds["button"])!=null&&_ref.play(),_ref2=this.options.buttons;for(_i=0,_len=_ref2.length;_i<_len;_i++)button=_ref2[_i],button.text.toLowerCase()===buttonAction&&typeof button.callback=="function"&&_.delay(button.callback,this.animationTime);return this.elem.animate({translateY:-this.elem.height()+"px",opacity:0},this.animationTime),this.overlay.animate({opacity:0},this.animationTime),_.delay(function(){return _this.overlay.remove(),_this.close()},this.animationTime)},DialogBox.prototype.orientationChange=function(e){return this.elem.css({left:(this.$el.width()-this.elem.width())/2}),this.elem.animate({translateY:(this.$el.height()+this.elem.height())/2+"px"},this.animationTime)},DialogBox}(Backbone.View)})}.call(this),define("text!templates/game.html",[],function(){return'<div id="game" class="scene">\n	<div class="container">\n\n		<button class="actions quit">Quit</button>\n		<button class="actions reset">Reset</button>\n\n		<div class="info area">AREA:<br>0</div>\n		<div class="info timer">00:00</div>\n\n		<div class="grid">\n			<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n			<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n			<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n			<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n			<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n			<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n			<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n			<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n			<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n			<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n		</div>\n		\n	</div>\n</div>'}),function(){var __hasProp=Object.prototype.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};define("cs!views/game",["jquery","underscore","backbone","data/levels","cs!utilities/env","cs!utilities/cgrect","cs!utilities/input","cs!views/common/scene","cs!views/common/dialog-box","text!templates/game.html"],function($,_,Backbone,levels,env,CGRect,Input,Scene,DialogBox,template){var GameScene;return GameScene=function(_super){function GameScene(){GameScene.__super__.constructor.apply(this,arguments)}return __extends(GameScene,_super),GameScene.prototype.events=function(){var events;return env.mobile?events={"touchstart .quit":"quit","touchstart .reset":"reset",touchstart:"onActionStart",touchmove:"onActionMove",touchend:"onActionEnd"}:events={"click .quit":"quit","click .reset":"reset",mousedown:"onActionStart",mouseup:"onActionEnd"}},GameScene.prototype.difficulty="beginner",GameScene.prototype.level=0,GameScene.prototype.timer=null,GameScene.prototype.seconds=0,GameScene.prototype.rectangle=null,GameScene.prototype.rectangles=[],GameScene.prototype.clues=[],GameScene.prototype.blockSize=0,GameScene.prototype.startRow=-1,GameScene.prototype.startCol=-1,GameScene.prototype.previousRow=-1,GameScene.prototype.previousCol=-1,GameScene.prototype.startPosition=null,GameScene.prototype.ignoreInput=!1,GameScene.prototype.tutorial=!1,GameScene.prototype.tutorialStep=0,GameScene.prototype.hint=null,GameScene.prototype.initialize=function(){return this.elem=$(template),this.rectangle=$('<div class="rectangle"><span></span></div>').hide(),this.elem.append(this.rectangle),this.hint=$('<div class="rectangle hint"><span></span></div>').hide(),this.elem.append(this.hint),this.grid=$(".grid",this.elem),this.render()},GameScene.prototype.render=function(){return this.$el.append(this.elem),this.blockSize=Math.round(this.grid.width()/10)},GameScene.prototype.onActionStart=function(e){var col,i,position,rect,rectAABB,row,touchAABB,_results;e.preventDefault();if(this.ignoreInput)return;e.type==="mousedown"&&this.elem.on("mousemove",$.proxy(this,"onActionMove")),position=this.startPosition=Input.normalize(e),row=Math.floor((position.y-this.grid.offset().top)/this.blockSize),col=Math.floor((position.x-this.grid.offset().left)/this.blockSize);if(0<=row&&row<=9&&0<=col&&col<=9){this.startRow=this.previousRow=row,this.startCol=this.previousCol=col,this.rectangle.css({left:col*this.blockSize+Math.floor(this.grid.offset().left-this.elem.offset().left),top:row*this.blockSize+Math.floor(this.grid.offset().top-this.elem.offset().top)}),i=0,_results=[];while(i<this.rectangles.length)rect=this.rectangles[i],rectAABB=CGRect.make(rect.offset().left,this.elem.height()-rect.offset().top,rect.width(),rect.height()),touchAABB=CGRect.make(position.x,this.elem.height()-position.y,2,2),CGRect.intersectsRect(rectAABB,touchAABB)&&(rect.remove(),this.rectangles.splice(i,1),i--,this.trigger("sfx:play","erase")),_results.push(i++);return _results}},GameScene.prototype.onActionMove=function(e){var col,height,position,row,width;e.preventDefault();if(this.ignoreInput)return;if(this.startRow===-1||this.startCol===-1)return;position=Input.normalize(e),row=Math.floor((position.y-this.grid.offset().top)/this.blockSize),col=Math.floor((position.x-this.grid.offset().left)/this.blockSize);if(0<=row&&row<=9&&0<=col&&col<=9){width=Math.abs(this.startCol-col)+1,height=Math.abs(this.startRow-row)+1,Input.distance(position,this.startPosition)>5&&this.rectangle.css("display")==="none"&&(this.rectangle.show(),this.$(".area").html("Area:<br>1"),this.trigger("sfx:play","move")),row!==this.previousRow&&(this.rectangle.height(height*this.blockSize),row<=this.startRow&&this.rectangle.css({left:Math.floor(this.rectangle.offset().left-this.elem.offset().left),top:row*this.blockSize+Math.floor(this.grid.offset().top-this.elem.offset().top)})),col!==this.previousCol&&(this.rectangle.width(width*this.blockSize),col<=this.startCol&&this.rectangle.css({left:col*this.blockSize+Math.floor(this.grid.offset().left-this.elem.offset().left),top:Math.floor(this.rectangle.offset().top-this.elem.offset().top)}));if(row!==this.previousRow||col!==this.previousCol)this.trigger("sfx:play","move"),this.$(".area").html("Area:<br>"+width*height);return this.previousRow=row,this.previousCol=col}},GameScene.prototype.onActionEnd=function(e){var area,clone,clue,clueAABB,count,height,rectAABB,validClue,width,_i,_len,_ref;e.preventDefault();if(this.ignoreInput)return;e.type==="mouseup"&&this.elem.off("mousemove",$.proxy(this,"onActionMove"));if(this.rectangle.css("display")==="block"){width=Math.abs(this.startCol-this.previousCol)+1,height=Math.abs(this.startRow-this.previousRow)+1,area=width*height,clone=this.rectangle.clone(),this.elem.append(clone),rectAABB=CGRect.make(clone.offset().left,this.elem.height()-clone.offset().top,clone.width(),clone.height()),count=0,_ref=this.clues;for(_i=0,_len=_ref.length;_i<_len;_i++)clue=_ref[_i],clueAABB=CGRect.make(clue.offset().left,this.elem.height()-clue.offset().top,clue.width(),clue.height()),CGRect.intersectsRect(rectAABB,clueAABB)&&(validClue=clue,count++);count===1&&parseInt(validClue.text(),10)===area&&clone.addClass("valid"),clone.data("area",area),clone.data("left",(clone.offset().left-this.grid.offset().left)/this.blockSize),clone.data("top",(clone.offset().top-this.grid.offset().top)/this.blockSize),clone.data("width",width),clone.data("height",height),this.rectangles.push(clone),this.rectangle.width(this.blockSize),this.rectangle.height(this.blockSize),this.rectangle.hide(),this.$(".area").html("Area:<br>&mdash;")}return this.check()&&this.win(),this.startRow=this.previousRow=this.startCol=this.previousCol=-1},GameScene.prototype.check=function(){var clue,clueAABB,count,rect,rectAABB,validClue,_i,_j,_len,_len2,_ref,_ref2;if(this.rectangles.length!==this.clues.length)return!1;_ref=this.rectangles;for(_i=0,_len=_ref.length;_i<_len;_i++){rect=_ref[_i],count=0,validClue=null,rectAABB=CGRect.make(rect.offset().left,this.elem.height()-rect.offset().top,rect.width(),rect.height()),_ref2=this.clues;for(_j=0,_len2=_ref2.length;_j<_len2;_j++)clue=_ref2[_j],clueAABB=CGRect.make(clue.offset().left,this.elem.height()-clue.offset().top,clue.width(),clue.height()),CGRect.intersectsRect(rectAABB,clueAABB)&&(validClue=clue,count++);if(count>1||count===0)return!1;if(parseInt(validClue.text(),10)!==parseInt(rect.data("area"),10))return!1}return!0},GameScene.prototype.win=function(){var complete,stats,_this=this;return this.ignoreInput=!0,this.trigger("sfx:play","win"),clearInterval(this.timer),this.tutorial?this.tutorialStep=0:(stats=localStorage.getObject("stats"),stats[this.difficulty][this.level].time?stats[this.difficulty][this.level].time>this.seconds&&(stats[this.difficulty][this.level].time=this.seconds):(stats[this.difficulty][this.level].time=this.seconds,complete=localStorage.getObject("complete"),complete[this.difficulty]++,localStorage.setObject("complete",complete)),localStorage.setObject("stats",stats)),new DialogBox({el:this.elem,title:"Puzzle solved!",buttons:[{text:"OK",callback:function(){return _this.ignoreInput=!1,_this.tutorial?_this.trigger("scene:change","title"):_this.trigger("scene:change","level",{difficulty:_this.difficulty})}}]})},GameScene.prototype.quit=function(e){var _this=this;return e.preventDefault(),this.ignoreInput=!0,this.trigger("sfx:play","button"),new DialogBox({el:this.elem,title:"Are you sure?",buttons:[{text:"Yes",callback:function(){return _this.ignoreInput=!1,_this.tutorial?(_this.tutorialStep=0,_this.trigger("scene:change","title")):_this.trigger("scene:change","level",{difficulty:_this.difficulty})}},{text:"No",callback:function(){return _this.ignoreInput=!1}}]})},GameScene.prototype.reset=function(e){var _this=this;return e.preventDefault(),this.ignoreInput=!0,this.trigger("sfx:play","button"),new DialogBox({el:this.elem,title:"Are you sure?",buttons:[{text:"Yes",callback:function(){return _this.ignoreInput=!1,_.delay(function(){var rect,_i,_len,_ref;_ref=_this.rectangles;for(_i=0,_len=_ref.length;_i<_len;_i++)rect=_ref[_i],rect.remove();return _this.rectangles=[],_this.trigger("sfx:play","erase")},300)}},{text:"No",callback:function(){return _this.ignoreInput=!1}}]})},GameScene.prototype.updateTimer=function(e){var minutes,pad,rect,seconds,success,_i,_j,_k,_l,_len,_len2,_len3,_len4,_len5,_len6,_len7,_m,_n,_o,_ref,_ref2,_ref3,_ref4,_ref5,_ref6,_ref7;this.seconds++,pad=function(number,length){var string;string=String(number);while(string.length<length)string="0"+string;return string},minutes=pad(Math.floor(this.seconds/60),2),seconds=pad(this.seconds%60,2),$(".timer",this.elem).html("Time:<br>"+minutes+":"+seconds);if(this.tutorial){success=!1;switch(this.tutorialStep){case 7:_ref=this.rectangles;for(_i=0,_len=_ref.length;_i<_len;_i++)rect=_ref[_i],parseInt(rect.data("area"),10)===7&&rect.offset().left===0*this.blockSize+this.grid.offset().left&&rect.offset().top===9*this.blockSize+this.grid.offset().top&&(success=!0);break;case 8:_ref2=this.rectangles;for(_j=0,_len2=_ref2.length;_j<_len2;_j++)rect=_ref2[_j],parseInt(rect.data("area"),10)===9&&rect.offset().left===7*this.blockSize+this.grid.offset().left&&rect.offset().top===7*this.blockSize+this.grid.offset().top&&(success=!0);break;case 11:_ref3=this.rectangles;for(_k=0,_len3=_ref3.length;_k<_len3;_k++)rect=_ref3[_k],parseInt(rect.data("area"),10)===7&&rect.offset().left===9*this.blockSize+this.grid.offset().left&&rect.offset().top===0*this.blockSize+this.grid.offset().top&&(success=!0);break;case 12:_ref4=this.rectangles;for(_l=0,_len4=_ref4.length;_l<_len4;_l++)rect=_ref4[_l],parseInt(rect.data("area"),10)===10&&rect.offset().left===7*this.blockSize+this.grid.offset().left&&rect.offset().top===2*this.blockSize+this.grid.offset().top&&(success=!0);break;case 13:_ref5=this.rectangles;for(_m=0,_len5=_ref5.length;_m<_len5;_m++)rect=_ref5[_m],parseInt(rect.data("area"),10)===8&&rect.offset().left===5*this.blockSize+this.grid.offset().left&&rect.offset().top===0*this.blockSize+this.grid.offset().top&&(success=!0);break;case 14:_ref6=this.rectangles;for(_n=0,_len6=_ref6.length;_n<_len6;_n++)rect=_ref6[_n],parseInt(rect.data("area"),10)===12&&rect.offset().left===0*this.blockSize+this.grid.offset().left&&rect.offset().top===3*this.blockSize+this.grid.offset().top&&(success=!0);break;case 16:_ref7=this.rectangles;for(_o=0,_len7=_ref7.length;_o<_len7;_o++)rect=_ref7[_o],parseInt(rect.data("area"),10)===9&&rect.offset().left===2*this.blockSize+this.grid.offset().left&&rect.offset().top===0*this.blockSize+this.grid.offset().top&&(success=!0)}if(success)return this.tutorialStep++,this.showTutorial()}},GameScene.prototype.showTutorial=function(){var text,_this=this;this.ignoreInput=!0,text=["Welcome to Shikaku Madness! Shikaku are logic puzzles where you try to cover a grid with rectangles.","Solve each puzzle using the numeric clues placed on the grid.","Each number represents the size of the square or rectangle that covers it.","Each rectangle can only contain one clue, and can't overlap other rectangles.","Tap and drag on the grid to draw. If you make a mistake, tap to remove.",'A good place to start drawing is in corners. Look at the "7" in the bottom left.','A rectangle can only overlap one clue, so the one that covers "7" has to go along the bottom.',"Go ahead and draw a long, thin rectangle with 7 squares in the bottom left corner.",'Check out the lower right corner. A "9" can only fit by making a 3x3 square.','Continue up the right side. The rectangle that covers the "7" can\'t go horizontally.',"There's only one way it can be drawn... vertically along the side of the grid.",'Go ahead and draw that "7" now.','Having eliminated some blank space, we can draw the "10".','Then we can also deduce where the "8" should be placed.','Now go back to the bottom left side and draw over the "12".',"You can make educated guesses on where each rectangle is drawn. If it doesn't work, just erase!",'Try drawing a square around the remaining "9".',"The rest is up to you! Don't be afraid to use trial and error. Good luck!"],this.hint.hide();switch(this.tutorialStep){case 7:this.hint.data("left",0),this.hint.data("top",9),this.hint.data("width",7),this.hint.data("height",1),this.hint.width(7*this.blockSize),this.hint.height(1*this.blockSize),this.hint.show().css({left:0*this.blockSize+this.grid.offset().left-this.elem.offset().left,top:9*this.blockSize+this.grid.offset().top-this.elem.offset().top});break;case 8:this.hint.data("left",7),this.hint.data("top",7),this.hint.data("width",3),this.hint.data("height",3),this.hint.width(3*this.blockSize),this.hint.height(3*this.blockSize),this.hint.show().css({left:7*this.blockSize+this.grid.offset().left-this.elem.offset().left,top:7*this.blockSize+this.grid.offset().top-this.elem.offset().top});break;case 11:this.hint.data("left",9),this.hint.data("top",0),this.hint.data("width",1),this.hint.data("height",7),this.hint.width(1*this.blockSize),this.hint.height(7*this.blockSize),this.hint.show().css({left:9*this.blockSize+this.grid.offset().left-this.elem.offset().left,top:0*this.blockSize+this.grid.offset().top-this.elem.offset().top});break;case 12:this.hint.data("left",7),this.hint.data("top",2),this.hint.data("width",2),this.hint.data("height",5),this.hint.width(2*this.blockSize),this.hint.height(5*this.blockSize),this.hint.show().css({left:7*this.blockSize+this.grid.offset().left-this.elem.offset().left,top:2*this.blockSize+this.grid.offset().top-this.elem.offset().top});break;case 13:this.hint.data("left",5),this.hint.data("top",0),this.hint.data("width",4),this.hint.data("height",2),this.hint.width(4*this.blockSize),this.hint.height(2*this.blockSize),this.hint.show().css({left:5*this.blockSize+this.grid.offset().left-this.elem.offset().left,top:0*this.blockSize+this.grid.offset().top-this.elem.offset().top});break;case 14:this.hint.data("left",0),this.hint.data("top",3),this.hint.data("width",2),this.hint.data("height",6),this.hint.width(2*this.blockSize),this.hint.height(6*this.blockSize),this.hint.show().css({left:0*this.blockSize+this.grid.offset().left-this.elem.offset().left,top:3*this.blockSize+this.grid.offset().top-this.elem.offset().top});break;case 16:this.hint.data("left",2),this.hint.data("top",0),this.hint.data("width",3),this.hint.data("height",3),this.hint.width(3*this.blockSize),this.hint.height(3*this.blockSize),this.hint.show().css({left:2*this.blockSize+this.grid.offset().left-this.elem.offset().left,top:0*this.blockSize+this.grid.offset().top-this.elem.offset().top})}return new DialogBox({el:this.elem,title:text[this.tutorialStep],buttons:[{text:"OK",callback:function(){_this.ignoreInput=!1;if([7,8,11,12,13,14,16].indexOf(_this.tutorialStep)===-1&&_this.tutorialStep<17)return _this.tutorialStep++,_this.showTutorial()}}]})},GameScene.prototype.resize=function(width,height,orientation){var gridWidth,left,paddingBottom,paddingRight,rect,size,top,_i,_len,_ref;orientation==="landscape"?(gridWidth=Math.round(height*.97/10)*10,this.grid.width(gridWidth),this.grid.height(gridWidth),paddingRight=parseInt(this.elem.find(".container").css("padding-right"),10),paddingBottom=parseInt(this.elem.find(".container").css("padding-bottom"),10),this.grid.css({bottom:""+(paddingBottom+(height-gridWidth)/2)+"px",right:""+(paddingRight+(height-gridWidth)/2)+"px"})):orientation==="portrait"&&(gridWidth=Math.round(width*.97/10)*10,this.grid.width(gridWidth),this.grid.height(gridWidth),paddingRight=parseInt(this.elem.find(".container").css("padding-right"),10),paddingBottom=parseInt(this.elem.find(".container").css("padding-bottom"),10),this.grid.css({bottom:""+(paddingBottom+(width-gridWidth)/2)+"px",right:""+(paddingRight+(width-gridWidth)/2)+"px"})),size=Math.round(this.grid.width()/10),this.blockSize=size,this.rectangle.width(size),this.rectangle.height(size),this.rectangle.css({"border-radius":""+size/2+"px","border-width":""+size/10+"px"}),this.rectangle.find("span").css({"border-radius":""+size/3+"px"}),this.hint.css({"border-radius":""+size/2+"px","border-width":""+size/10+"px"}),this.hint.find("span").css({"border-radius":""+size/3+"px"}),_ref=this.rectangles;for(_i=0,_len=_ref.length;_i<_len;_i++)rect=_ref[_i],left=rect.data("left"),top=rect.data("top"),width=rect.data("width"),height=rect.data("height"),rect.css({left:left*this.blockSize+this.grid.offset().left,top:top*this.blockSize+this.grid.offset().top,width:width*this.blockSize,height:height*this.blockSize});if(this.hint.css(!1))return left=this.hint.data("left"),top=this.hint.data("top"),width=this.hint.data("width"),height=this.hint.data("height"),this.hint.css({left:left*this.blockSize+this.grid.offset().left,top:top*this.blockSize+this.grid.offset().top,width:width*this.blockSize,height:height*this.blockSize})},GameScene.prototype.hide=function(duration,callback){var _this=this;return duration==null&&(duration=500),Scene.prototype.hide.call(this,duration,callback),_.delay(function(){var rect,_i,_len,_ref;_this.tutorial=!1,_this.hint.hide(),clearInterval(_this.timer),_this.seconds=0,_this.$(".timer").html("Time:<br>00:00"),_this.$(".grid div").html(""),_this.clues=[],_ref=_this.rectangles;for(_i=0,_len=_ref.length;_i<_len;_i++)rect=_ref[_i],rect.remove();return _this.rectangles=[]},duration)},GameScene.prototype.show=function(duration,callback){var c,clue,index,stats,value,x,y,_i,_len,_ref,_results,_this=this;duration==null&&(duration=500),Scene.prototype.show.call(this,duration,callback),this.timer=setInterval($.proxy(this,"updateTimer"),1e3),this.tutorial===!0?_.delay(function(){return _this.showTutorial()},duration):(stats=localStorage.getObject("stats"),stats[this.difficulty][this.level]?stats[this.difficulty][this.level].attempts++:stats[this.difficulty][this.level]={attempts:1},localStorage.setObject("stats",stats)),_ref=levels[this.difficulty][this.level].clues,_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++)clue=_ref[_i],x=clue[0],y=clue[1],value=clue[2],index=y*10+x,c=$("<span>"+value+"</span>"),this.$(".grid div").eq(index).html(c),_results.push(this.clues.push(c));return _results},GameScene}(Scene)})}.call(this),define("text!templates/about.html",[],function(){return'<div id="about" class="scene">\n	<div class="container">\n		<button class="small back">&larr; Title</button>\n\n		<h2>About</h2>\n\n		<p>Designed and programmed by Nathan Demick.</p>\n\n		<p>"Shikaku" puzzle concept by Nikoli.</p>\n\n		<!-- <button class="feedback">Feedback</button> -->\n\n		<button class="reset">Reset Data</button>\n	</div>\n</div>'}),function(){var __hasProp=Object.prototype.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};define("cs!views/about",["jquery","underscore","backbone","cs!utilities/env","cs!views/common/scene","cs!views/common/dialog-box","text!templates/about.html"],function($,_,Backbone,env,Scene,DialogBox,template){var AboutScene;return AboutScene=function(_super){function AboutScene(){AboutScene.__super__.constructor.apply(this,arguments)}return __extends(AboutScene,_super),AboutScene.prototype.events=function(){var events;return env.mobile?events={"touchstart .back":"back","touchstart .reset":"reset","touchstart .feedback":"feedback"}:events={"click .back":"back","click .reset":"reset","click .feedback":"feedback"}},AboutScene.prototype.initialize=function(){return this.elem=$(template),this.render()},AboutScene.prototype.back=function(e){return e.preventDefault(),this.undelegateEvents(),this.trigger("sfx:play","button"),this.trigger("scene:change","title")},AboutScene.prototype.feedback=function(e){return e.preventDefault(),window.open("http://ganbarugames.com","feedback")},AboutScene.prototype.reset=function(e){var _this=this;return e.preventDefault(),this.trigger("sfx:play","button"),new DialogBox({el:this.elem,title:"Erase saved data?",buttons:[{text:"Yes",callback:function(){var complete,stats;return stats={beginner:{},easy:{},medium:{},hard:{}},complete={beginner:0,easy:0,medium:0,hard:0},localStorage.setObject("stats",stats),localStorage.setObject("complete",complete)}},{text:"No"}]})},AboutScene}(Scene)})}.call(this),define("text!templates/level-select.html",[],function(){return'<div id="level-select" class="scene">\n	<div class="container">\n		<button class="small back">&larr; Difficulty</button>\n\n		<h2>Select Level</h2>\n\n		<button class="previous disabled">&larr;</button>\n		<button class="next">&rarr;</button>\n\n		<div class="preview">\n			<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n			<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n			<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n			<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n			<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n			<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n			<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n			<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n			<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n			<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n		</div>\n\n		<ul class="info">\n			<li class="level-number"></li>\n			<li class="attempts"></li>\n			<li class="best-time"></li>\n		</ul>\n\n		<button class="play">Play</button>\n	</div>\n</div>'}),function(){var __hasProp=Object.prototype.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};define("cs!views/level-select",["jquery","underscore","backbone","data/levels","cs!utilities/env","cs!views/common/scene","text!templates/level-select.html"],function($,_,Backbone,levels,env,Scene,template){var LevelSelectScene;return LevelSelectScene=function(_super){function LevelSelectScene(){LevelSelectScene.__super__.constructor.apply(this,arguments)}return __extends(LevelSelectScene,_super),LevelSelectScene.prototype.events=function(){var events;return env.mobile?events={"touchstart .back":"back","touchstart .previous":"previous","touchstart .next":"next","touchstart .play":"play"}:events={"click .back":"back","click .previous":"previous","click .next":"next","click .play":"play"}},LevelSelectScene.prototype.current=0,LevelSelectScene.prototype.difficulty="beginner",LevelSelectScene.prototype.stats={},LevelSelectScene.prototype.initialize=function(){return this.elem=$(template),this.render()},LevelSelectScene.prototype.previous=function(e){e.preventDefault();if(this.current>0)return this.current--,this.current===0&&this.$(".previous").addClass("disabled"),this.current===28&&this.$(".next").removeClass("disabled"),this.trigger("sfx:play","button"),this.showPreview(levels[this.difficulty][this.current])},LevelSelectScene.prototype.next=function(e){e.preventDefault();if(this.current<29)return this.current++,this.current===29&&this.$(".next").addClass("disabled"),this.current===1&&this.$(".previous").removeClass("disabled"),this.trigger("sfx:play","button"),this.showPreview(levels[this.difficulty][this.current])},LevelSelectScene.prototype.play=function(e){return e.preventDefault(),this.undelegateEvents(),this.trigger("sfx:play","button"),this.trigger("scene:change","game",{difficulty:this.difficulty,level:this.current})},LevelSelectScene.prototype.back=function(e){return e.preventDefault(),this.undelegateEvents(),this.trigger("sfx:play","button"),this.trigger("scene:change","difficulty")},LevelSelectScene.prototype.showPreview=function(json){var attempts,clue,index,minutes,pad,seconds,time,value,x,y,_i,_len,_ref,_ref2,_ref3,_results;pad=function(number,length){var string;string=String(number);while(string.length<length)string="0"+string;return string},((_ref=this.stats[this.current])!=null?_ref.time:void 0)?(minutes=pad(Math.floor(this.stats[this.current].time/60),2),seconds=pad(this.stats[this.current].time%60,2),time=""+minutes+":"+seconds):time="--:--",attempts=((_ref2=this.stats[this.current])!=null?_ref2.attempts:void 0)?this.stats[this.current].attempts:"0",this.$(".level-number").html(""+(this.difficulty.charAt(0).toUpperCase()+this.difficulty.slice(1))+" #"+(this.current+1)),this.$(".attempts").html("Attempts: "+attempts),this.$(".best-time").html("Best Time: "+time),time!=="--:--"&&this.$(".level-number").prepend('<span class="complete">&#10004;</span>'),this.$(".preview div").html(""),_ref3=json.clues,_results=[];for(_i=0,_len=_ref3.length;_i<_len;_i++)clue=_ref3[_i],x=clue[0],y=clue[1],value=clue[2],index=y*10+x,_results.push(this.$(".preview div").eq(index).html("<span>"+value+"</span>"));return _results},LevelSelectScene.prototype.resize=function(width,height,orientation){var preview;return preview=this.$(".preview"),orientation==="landscape"?(width*=.4,preview.width(Math.round(width/10)*10),preview.height(preview.width())):(width*=.6,preview.width(Math.round(width/10)*10),preview.height(preview.width()))},LevelSelectScene.prototype.hide=function(duration,callback){var lastViewedLevel;return duration==null&&(duration=500),Scene.prototype.hide.call(this,duration,callback),lastViewedLevel=localStorage.getObject("lastViewedLevel"),lastViewedLevel[this.difficulty]=this.current,localStorage.setObject("lastViewedLevel",lastViewedLevel)},LevelSelectScene.prototype.show=function(duration,callback){return duration==null&&(duration=500),Scene.prototype.show.call(this,duration,callback),this.difficulty||(this.difficulty="beginner"),this.stats=localStorage.getObject("stats")[this.difficulty],this.current=localStorage.getObject("lastViewedLevel")[this.difficulty],this.showPreview(levels[this.difficulty][this.current])},LevelSelectScene}(Scene)})}.call(this),define("text!templates/difficulty-select.html",[],function(){return'<div id="difficulty-select" class="scene">\n	<div class="container">\n		<button class="small back">&larr; Title</button>\n		<button class="small restore">Restore</button>\n\n		<h2>Select Difficulty</h2>\n\n		<nav class="difficulty">\n			<button data-difficulty="beginner" data-purchased="yes" class="beginner">Beginner <span>0%</span></button>\n			<button data-difficulty="easy" data-purchased="yes" class="easy">Easy <span>0%</span></button>\n			<button data-difficulty="medium" data-purchased="yes" class="medium">Medium <span>0%</span></button>\n			<button data-difficulty="hard" data-purchased="yes" class="hard">Hard <span>0%</span></button>\n		</nav>\n\n		<div class="buy">\n			<p>Get 90 more puzzles for $0.99!</p>\n			<button>Gimme!</button>\n		</div>\n	</div>\n</div>'}),function(){var __hasProp=Object.prototype.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};define("cs!views/difficulty-select",["jquery","backbone","cs!utilities/env","cs!views/common/scene","cs!views/common/dialog-box","text!templates/difficulty-select.html"],function($,Backbone,env,Scene,DialogBox,template){var DifficultySelectScene;return DifficultySelectScene=function(_super){function DifficultySelectScene(){DifficultySelectScene.__super__.constructor.apply(this,arguments)}return __extends(DifficultySelectScene,_super),DifficultySelectScene.prototype.events=function(){var events;return env.mobile?events={"touchstart .back":"back","touchstart .restore":"restore","touchstart .difficulty button":"select"}:events={"click .back":"back","click .restore":"restore","click .difficulty button":"select"}},DifficultySelectScene.prototype.productIds=["com.ganbarugames.shikakumadnessfree.easy","com.ganbarugames.shikakumadnessfree.medium","com.ganbarugames.shikakumadnessfree.hard"],DifficultySelectScene.prototype.initialize=function(){var id,_i,_len,_ref,_this=this;this.elem=$(template);if(window.inAppPurchaseManager!=null){_ref=this.productIds;for(_i=0,_len=_ref.length;_i<_len;_i++)id=_ref[_i],window.inAppPurchaseManager.requestProductData(id);window.inAppPurchaseManager.onPurchased=function(transactionIdentifier,productId,transactionReceipt){var difficulty,purchased;return purchased=localStorage.getObject("purchased"),purchased.push(productId),localStorage.setObject("purchased",purchased),difficulty=productId.split(".").pop(),$("."+difficulty,_this.elem).data("purchased","yes"),$("."+difficulty+" span",_this.elem).html("0%"),new DialogBox({el:_this.elem,title:"Your purchase was successful!",buttons:[{text:"OK"}]})},window.inAppPurchaseManager.onRestored=function(originalTransactionIdentifier,productId,originalTransactionReceipt){var difficulty,purchased;return purchased=localStorage.getObject("purchased"),purchased.push(productId),localStorage.setObject("purchased",purchased),difficulty=productId.split(".").pop(),$("."+difficulty,_this.elem).data("purchased","yes"),$("."+difficulty+" span",_this.elem).html("0%"),new DialogBox({el:_this.elem,title:"Level packs restored!",buttons:[{text:"OK"}]})},window.inAppPurchaseManager.onFailed=function(errorNumber,errorText){return new DialogBox({el:_this.elem,title:errorText,buttons:[{text:"OK"}]})},this.updatePurchaseStatus()}else $(".restore",this.elem).hide();return this.render()},DifficultySelectScene.prototype.updatePercentComplete=function(){var complete;complete=localStorage.getObject("complete"),$(".beginner span",this.elem).html(""+Math.round(complete.beginner*100/30)+"%"),$(".easy",this.elem).data("purchased")==="yes"&&$(".easy span",this.elem).html(""+Math.round(complete.easy*100/30)+"%"),$(".hard",this.elem).data("purchased")==="yes"&&$(".medium span",this.elem).html(""+Math.round(complete.medium*100/30)+"%");if($(".hard",this.elem).data("purchased")==="yes")return $(".hard span",this.elem).html(""+Math.round(complete.hard*100/30)+"%")},DifficultySelectScene.prototype.updatePurchaseStatus=function(){var difficulty,id,purchased,_i,_len,_ref,_results;purchased=localStorage.getObject("purchased"),_ref=this.productIds,_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++)id=_ref[_i],purchased.indexOf(id)===-1?(difficulty=id.split(".").pop(),$("."+difficulty,this.elem).data("purchased","no"),_results.push($("."+difficulty+" span",this.elem).html("$0.99"))):_results.push(void 0);return _results},DifficultySelectScene.prototype.restore=function(e){var _ref;return e.preventDefault(),(_ref=window.inAppPurchaseManager)!=null?_ref.restoreCompletedTransactions():void 0},DifficultySelectScene.prototype.select=function(e){var button,productId,_ref;return e.preventDefault(),button=$(e.target),button.data("purchased")==="yes"?(this.trigger("sfx:play","button"),this.trigger("scene:change","level",{difficulty:button.data("difficulty")})):(productId="com.ganbarugames.shikakumadnessfree."+button.data("difficulty"),(_ref=window.inAppPurchaseManager)!=null?_ref.makePurchase(productId,1):void 0)},DifficultySelectScene.prototype.back=function(e){return e.preventDefault(),this.trigger("sfx:play","button"),this.trigger("scene:change","title")},DifficultySelectScene.prototype.show=function(duration,callback){return duration==null&&(duration=500),this.updatePercentComplete(),Scene.prototype.show.call(this,duration,callback)},DifficultySelectScene}(Scene)})}.call(this),function(){var __hasProp=Object.prototype.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};define("cs!views/difficulty-select-android",["jquery","underscore","backbone","cs!utilities/env","cs!views/common/scene","cs!views/common/dialog-box","text!templates/difficulty-select.html"],function($,_,Backbone,env,Scene,DialogBox,template){var DifficultySelectAndroidScene;return DifficultySelectAndroidScene=function(_super){function DifficultySelectAndroidScene(){DifficultySelectAndroidScene.__super__.constructor.apply(this,arguments)}return __extends(DifficultySelectAndroidScene,_super),DifficultySelectAndroidScene.prototype.events={"touchstart .back":"back","touchstart .restore":"restore","touchstart .difficulty button":"select","touchstart .buy button":"buy"},DifficultySelectAndroidScene.prototype.initialize=function(){var _this=this;return this.elem=$(template),window.inappbilling!=null?(window.inappbilling.init(),this.callbacks={},this.callbacks.purchased=function(productId){var purchased;return console.log(productId),purchased=localStorage.getObject("purchased"),purchased.push(productId),localStorage.setObject("purchased",purchased),$(".easy, .medium, .hard",_this.elem).show(),$(".buy",_this.elem).hide(),$(".restore",_this.elem).hide(),new DialogBox({el:_this.elem,title:"Your purchase was successful!",buttons:[{text:"OK"}]})},this.callbacks.restored=function(productId){var message,purchased;return productId?($(".easy, .medium, .hard",_this.elem).show(),$(".buy",_this.elem).hide(),$(".restore",_this.elem).hide(),purchased=localStorage.getObject("purchased"),purchased.push(productId),localStorage.setObject("purchased",purchased),message="Level packs restored!"):message="No purchases found.",new DialogBox({el:_this.elem,title:message,buttons:[{text:"OK"}]})},this.callbacks.failed=function(){return new DialogBox({el:_this.elem,title:"Sorry, there was some sort of problem.",buttons:[{text:"OK"}]})},this.updatePurchaseStatus()):($(".easy, .medium, .hard",this.elem).show(),$(".buy",this.elem).hide(),$(".restore",this.elem).hide()),this.render()},DifficultySelectAndroidScene.prototype.updatePercentComplete=function(){var complete;return complete=localStorage.getObject("complete"),$(".beginner span",this.elem).html(""+Math.round(complete.beginner*100/30)+"%"),$(".easy span",this.elem).html(""+Math.round(complete.easy*100/30)+"%"),$(".medium span",this.elem).html(""+Math.round(complete.medium*100/30)+"%"),$(".hard span",this.elem).html(""+Math.round(complete.hard*100/30)+"%")},DifficultySelectAndroidScene.prototype.updatePurchaseStatus=function(){var purchased;return purchased=localStorage.getObject("purchased"),purchased.length===0?($(".easy, .medium, .hard",this.elem).hide(),$(".buy",this.elem).css({display:"inline-block"})):$(".restore",this.elem).hide()},DifficultySelectAndroidScene.prototype.restore=function(e){return e.preventDefault(),this.trigger("sfx:play","button"),window.inappbilling.getOwnItems(this.callbacks.restored,this.callbacks.failed)},DifficultySelectAndroidScene.prototype.select=function(e){var button;return e.preventDefault(),this.undelegateEvents(),button=$(e.target),this.trigger("sfx:play","button"),this.trigger("scene:change","level",{difficulty:button.data("difficulty")})},DifficultySelectAndroidScene.prototype.buy=function(e){var productId;return this.trigger("sfx:play","button"),productId="com.ganbarugames.shikakujs.levelpak",window.inappbilling.purchase(this.callbacks.purchased,this.callbacks.failed,productId)},DifficultySelectAndroidScene.prototype.back=function(e){return e.preventDefault(),this.undelegateEvents(),this.trigger("sfx:play","button"),this.trigger("scene:change","title")},DifficultySelectAndroidScene.prototype.show=function(duration,callback){return duration==null&&(duration=500),this.updatePercentComplete(),DifficultySelectAndroidScene.__super__.show.call(this,duration,callback)},DifficultySelectAndroidScene}(Scene)})}.call(this),function(){var __hasProp=Object.prototype.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};define("cs!app",["jquery","underscore","backbone","buzz","cs!utilities/env","cs!views/title","cs!views/game","cs!views/about","cs!views/level-select","cs!views/difficulty-select","cs!views/difficulty-select-android"],function($,_,Backbone,buzz,env,TitleScene,GameScene,AboutScene,LevelSelectScene,DifficultySelectScene,DifficultySelectAndroidScene){var App;return Storage.prototype.setObject=function(key,value){return this.setItem(key,JSON.stringify(value))},Storage.prototype.getObject=function(key){var value;return value=this.getItem(key),value&&JSON.parse(value)},Backbone.View.prototype.close=function(){this.elem.remove(),this.undelegateEvents();if(typeof this.onClose=="function")return this.onClose()},App=function(_super){function App(){App.__super__.constructor.apply(this,arguments)}return __extends(App,_super),App.prototype.el=null,App.prototype.activeScene=null,App.prototype.sounds={},App.prototype.initialize=function(){var extension,key,sound,_ref,_results,_this=this;_.bindAll(this),this.initializeDefaults(),this.el=this.options.el!=null?this.options.el:$("#shikaku"),this.titleScene=new TitleScene({el:this.el}),this.gameScene=new GameScene({el:this.el}),this.aboutScene=new AboutScene({el:this.el}),this.levelScene=new LevelSelectScene({el:this.el}),env.cordova&&env.android?this.difficultyScene=new DifficultySelectAndroidScene({el:this.el}):this.difficultyScene=new DifficultySelectScene({el:this.el}),this.titleScene.on("scene:change",this.changeScene,this),this.gameScene.on("scene:change",this.changeScene,this),this.aboutScene.on("scene:change",this.changeScene,this),this.levelScene.on("scene:change",this.changeScene,this),this.difficultyScene.on("scene:change",this.changeScene,this),this.titleScene.on("sfx:play",this.playSfx,this),this.gameScene.on("sfx:play",this.playSfx,this),this.aboutScene.on("sfx:play",this.playSfx,this),this.levelScene.on("sfx:play",this.playSfx,this),this.difficultyScene.on("sfx:play",this.playSfx,this),this.titleScene.hide(0),this.gameScene.hide(0),this.aboutScene.hide(0),this.levelScene.hide(0),this.difficultyScene.hide(0),this.activeScene=this.titleScene,_.delay(function(){return env.cordova&&navigator.splashscreen.hide(),_this.activeScene.show()},500),window.navigator.standalone&&this.el.addClass("standalone"),this.resize(),$(window).on("resize",this.resize),env.mobile&&($("body").on("touchmove",function(e){return e.preventDefault()}),$("body").on("gesturestart",function(e){return e.preventDefault()}),$("body").on("gesturechange",function(e){return e.preventDefault()}),$("body").on("gestureend",function(e){return e.preventDefault()}));if(env.cordova&&window.LowLatencyAudio)return extension=env.ios===!0?"m4a":"ogg",window.LowLatencyAudio.preloadFX("button","assets/sounds/button."+extension),window.LowLatencyAudio.preloadFX("move","assets/sounds/move."+extension),window.LowLatencyAudio.preloadFX("erase","assets/sounds/erase."+extension),window.LowLatencyAudio.preloadFX("win","assets/sounds/win."+extension);window.sounds={},window.sounds.button=new buzz.sound("assets/sounds/button",{formats:["ogg","mp3","m4a"],preload:!0}),window.sounds.move=new buzz.sound("assets/sounds/move",{formats:["ogg","mp3","m4a"],preload:!0}),window.sounds.erase=new buzz.sound("assets/sounds/erase",{formats:["ogg","mp3","m4a"],preload:!0}),window.sounds.win=new buzz.sound("assets/sounds/win",{formats:["ogg","mp3","m4a"],preload:!0}),_ref=window.sounds,_results=[];for(key in _ref)sound=_ref[key],_results.push(sound.setVolume(25));return _results},App.prototype.playSfx=function(id){var _ref;return env.cordova&&window.LowLatencyAudio?window.LowLatencyAudio.play(id):(_ref=window.sounds[id])!=null?_ref.play():void 0},App.prototype.changeScene=function(scene,options){this.activeScene.hide();switch(scene){case"title":this.activeScene=this.titleScene;break;case"about":this.activeScene=this.aboutScene;break;case"difficulty":this.activeScene=this.difficultyScene;break;case"level":this.levelScene.difficulty=options.difficulty,this.activeScene=this.levelScene;break;case"game":this.gameScene.difficulty=options.difficulty,this.gameScene.level=options.level,this.gameScene.tutorial=options.tutorial,this.activeScene=this.gameScene;break;default:console.log("Error! Scene not defined in switch statement"),this.activeScene=this.titleScene}return this.activeScene.show()},App.prototype.resize=function(){var height,newHeight,newWidth,orientation,padding,ratio,width;return width=this.el.width(),height=this.el.height(),padding={width:0,height:0},width>height?(this.el.removeClass("portrait").addClass("landscape"),orientation="landscape"):(this.el.removeClass("landscape").addClass("portrait"),orientation="portrait"),ratio=1.5,orientation==="landscape"?(width/ratio>height?(newWidth=height*ratio,padding.width=width-newWidth,width=newWidth):width/ratio<height&&(newHeight=width/ratio,padding.height=height-newHeight,height=newHeight),$("body").css({"font-size":""+width*.1302+"%"})):orientation==="portrait"&&(height/ratio>width?(newHeight=width*ratio,padding.height=height-newHeight,height=newHeight):height/ratio<width&&(newWidth=height/ratio,padding.width=width-newWidth,width=newWidth),$("body").css({"font-size":""+height*.1302+"%"})),this.el.find(".scene .container").css({width:width,height:height,padding:""+padding.height/2+"px "+padding.width/2+"px"}),this.gameScene.resize(width,height,orientation),this.levelScene.resize(width,height,orientation)},App.prototype.initializeDefaults=function(){var complete,lastViewedLevel,stats;console.log(localStorage.getObject("stats")),console.log("what?"),localStorage.getObject("stats")===null&&(stats={beginner:{},easy:{},medium:{},hard:{}},localStorage.setObject("stats",stats)),localStorage.getObject("complete")===null&&(complete={beginner:0,easy:0,medium:0,hard:0},localStorage.setObject("complete",complete)),localStorage.getObject("lastViewedLevel")===null&&(lastViewedLevel={beginner:0,easy:0,medium:0,hard:0},localStorage.setObject("lastViewedLevel",lastViewedLevel));if(localStorage.getObject("purchased")===null)return localStorage.setObject("purchased",[])},App}(Backbone.View),env.cordova?document.addEventListener("deviceready",function(){return window.shikaku=new App},!1):window.shikaku=new App})}.call(this),require({paths:{cs:"../coffeescript/cs",CoffeeScript:"../coffeescript/CoffeeScript",jquery:"lib/zepto",underscore:"lib/underscore",backbone:"lib/backbone",buzz:"lib/buzz"},shim:{jquery:{exports:"$"},underscore:{exports:"_"},backbone:{deps:["underscore","jquery"],exports:"Backbone"},buzz:{exports:"buzz"}}},["cs!app"]),define("main",function(){})